(function(){var q,A,x,O,P,B,n,v,C,Q,R,D,E,S,T,U,F,G,V,W,y,r,u,X,Y,Z,$,s,aa,ba,ca,da,t,H,ea,I,fa,ga,ha,ia,ja,ka,J,la,ma,na,oa,pa,K,qa,i,L,ra,sa,ta,ua,va,wa,M,xa,N,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja=[].slice,Ka={}.hasOwnProperty,k=function(c,b){function a(){this.constructor=c}for(var d in b)Ka.call(b,d)&&(c[d]=b[d]);a.prototype=b.prototype;c.prototype=new a;c.__super__=b.prototype;return c};i={TO_RADIANS:Math.PI/180,FROM_RADIANS:180/Math.PI,hexToRGB:function(c,b){var a,d,f;null==b&&(b=0);"#"===c.charAt(0)&&
(c=c.substring(1,7));f=parseInt(c.substring(0,2),16);d=parseInt(c.substring(2,4),16);a=parseInt(c.substring(4,6),16);return b?"rgba("+f+", "+d+", "+a+", "+b+")":"rgb("+f+", "+d+", "+a+")"},valuesOf:function(){var c,b,a,d,f;a=1<=arguments.length?Ja.call(arguments,0):[];c={};d=0;for(f=a.length;d<f;d++)(b=a[d])&&i.mergeProps(b,c);return c},mergeProps:function(c,b){var a,d;null==b&&(b={});for(a in c)d=c[a],b[a]=d&&"object"===typeof d&&!d.length&&0!==d.length?this.mergeProps(d,b[a]):d;return b},copy:function(c){var b,
a,d;b={};for(a in c)d=c[a],b[a]=d&&"object"===typeof d&&!d.length&&0!==d.length?this.copy(d):d;return b},normalizeRect:function(c){return 0>c.width?i.normalizeRect({x:c.x+c.width,y:c.y,width:-c.width,height:c.height,orientation:c.orientation}):0>c.height?i.normalizeRect({x:c.x,y:c.y+c.height,width:c.width,height:-c.height,orientation:c.orientation}):c},distanceBetweenPointAndLine:function(c,b){var a,d,f,e;a=b.from.x;f=b.from.y;d=b.to.x;e=b.to.y;return Math.abs((d-a)*(f-c.y)-(a-c.x)*(e-f))/Math.sqrt((d-
a)*(d-a)+(e-f)*(e-f))},isHasRectPoint:function(c,b){var a;a={x:c.x,y:c.y,width:c.width,height:c.height,textAlign:c.textAlign,textBaseline:c.textBaseline};90===c.rotation&&(a.width=c.height,a.height=c.width,a.textBaseline=function(){switch(c.textAlign){case "left":return"top";case "center":return"middle";case "right":return"bottom"}}(),a.textAlign=function(){switch(c.textBaseline){case "top":return"right";case "center":return"middle";case "bottom":return"left"}}());return this.hasLeftRightPoint(a,
b)&&this.hasTopBottomPoint(a,b)},hasLeftRightPoint:function(c,b){var a,d,f;return"right"===c.textAlign?c.x>=(a=b.x)&&a>=c.x-c.width:"center"===c.textAlign?c.x-c.width/2<=(d=b.x)&&d<=c.x+c.width/2:c.x<=(f=b.x)&&f<=c.x+c.width},hasTopBottomPoint:function(c,b){var a,d,f;return"bottom"===c.textBaseline?c.y>=(a=b.y)&&a>=c.y-c.height:"middle"===c.textBaseline?c.y-c.height/2<=(d=b.y)&&d<=c.y+c.height/2:c.y<=(f=b.y)&&f<=c.y+c.height},isHasArcPoint:function(c,b){var a,d,f;f=b.y-c.y;d=b.x-c.x;a=Math.sqrt(f*
f+d*d);if(!(a>=c.radius*(100-c.fillPercent)/100&&a<c.radius))return!1;a=Math.atan2(f,d)*i.FROM_RADIANS;0>a&&(a+=360);return a>=c.startAngle&&a<c.endAngle},isHasCirclePoint:function(c,b){var a,d;d=b.y-c.y;a=b.x-c.x;a=Math.sqrt(d*d+a*a);return 0<=a&&a<c.radius},circleXY:function(c,b,a){return{x:c.x+Math.sin(a*i.TO_RADIANS)*b,y:c.y-Math.cos(a*i.TO_RADIANS)*b}},measureTime:function(c){var b;b=(new Date).getTime();c();c=(new Date).getTime()-b;return console.log("Execution time: "+c)}};n=function(){function c(){this.children=
[];this.mouseover=!1}c.prototype.addChild=function(b){return this.children.push(b)};c.prototype.removeChild=function(b){var a,d,f,e,c;c=this.children;d=f=0;for(e=c.length;f<e;d=++f)a=c[d],a===b&&this.children.splice(d,1)};c.prototype.optionsChanged=function(b){var a,d,f,e;e=this.children;d=0;for(f=e.length;d<f;d++)a=e[d],a.optionsChanged(b)};c.prototype.resize=function(b){var a,d,f,e;e=this.children;d=0;for(f=e.length;d<f;d++)a=e[d],a.resize(b)};c.prototype.render=function(b){var a,d,f,e;e=this.children;
d=0;for(f=e.length;d<f;d++)a=e[d],a.render(b)};c.prototype.getKeys=function(){var b,a,d,f,e,c,g,h;a=[];g=this.children;d=0;for(e=g.length;d<e;d++){b=g[d];h=b.getKeys();f=0;for(c=h.length;f<c;f++)b=h[f],a.push(b)}return a};c.prototype.getMaxX=function(){var b,a,d,f,e;a=this.x;e=this.children;d=0;for(f=e.length;d<f;d++)b=e[d],b=b.getMaxX(),isNaN(a)?a=b:isNaN(b)||(a=Math.max(a,b));return a};c.prototype.getMinX=function(){var b,a,d,f,e;a=this.x;e=this.children;d=0;for(f=e.length;d<f;d++)b=e[d],b=b.getMinX(),
isNaN(a)?a=b:isNaN(b)||(a=Math.min(a,b));return a};c.prototype.getElement=function(){return null};c.prototype.addValues=function(){var b,a,d,f,e;e=this.values;b=d=0;for(f=e.length;d<f;b=++d)if(a=e[b])(b=this.getElement(b,a))&&this.addChild(b)};c.prototype.onTouch=function(b){var a,d,f,e;e=this.children;d=0;for(f=e.length;d<f;d++)a=e[d],a.onTouch(b)};c.prototype.onClick=function(b){var a,d,f,e;e=this.children;d=0;for(f=e.length;d<f;d++)if(a=e[d],a=a.onClick(b))return a};return c}();t=function(){function c(b,
a,d,f){this.top=b;this.left=a;this.right=d;this.bottom=f;this.barGroups=0}c.prototype.view=function(b,a,d,f){b=new c(b,a,a+d,b+f);b.barGroups=this.barGroups;b.xaxis=this.xaxis;b.yaxis=this.yaxis;b.yRightAxis=this.yRightAxis;return b};c.prototype.getWidth=function(){return this.getRight()-this.getLeft()};c.prototype.getHeight=function(){return this.getBottom()-this.getTop()};c.prototype.getLeft=function(){return this.left};c.prototype.getRight=function(){return this.right};c.prototype.getTop=function(){return this.top};
c.prototype.getBottom=function(){return this.bottom};c.prototype.getCenterX=function(){return this.getWidth()/2+this.getLeft()};c.prototype.getCenterY=function(){return this.getHeight()/2+this.getTop()};c.prototype.getXFromValue=function(b){return this.getXAxisValues().getValue(b)};c.prototype.getYFromValue=function(b,a){return this.getYAxisValues(a).getValue(b)};c.prototype.getYBottom=function(b){return this.getYAxisValues(b).getBottomValue()};c.prototype.getVerticalBarCoords=function(){this.verticalBarCoords||
(this.verticalBarCoords=new ra(this,this.xaxis));return this.verticalBarCoords};c.prototype.getHorizontalBarCoords=function(b){if(b||"right"===b)return this.horizontalBarCoordsYRight||(this.horizontalBarCoordsYRight=new G(this,this.yRightAxis)),this.horizontalBarCoordsYRight;this.horizontalBarCoords||(this.horizontalBarCoords=new G(this,this.yaxis));return this.horizontalBarCoords};c.prototype.getYAxisValues=function(b){return"right"===b?this.getYRightAxisValues():this.getYLeftAxisValues()};c.prototype.getYLeftAxisValues=
function(){return this.yaxisValues?this.yaxisValues:this.yaxisValues=new N(this,this.yaxis)};c.prototype.getYRightAxisValues=function(){return this.yRightAxisValues?this.yRightAxisValues:this.yRightAxisValues=new N(this,this.yRightAxis)};c.prototype.getXAxisValues=function(){return this.xaxisValues||void 0===this.xaxis?this.xaxisValues:this.xaxisValues=new ua(this,this.xaxis)};c.prototype.getCoordsFromXPositionAndYValue=function(b,a,d){return{x:this.getXFromValue(b),y:this.getYFromValue(a,d)}};c.prototype.getCoordsFromXValueAndYValue=
function(b,a,d){return{x:this.getXFromValue(b),y:this.getYFromValue(a,d)}};c.prototype.toString=function(){return"Left: "+this.getLeft()+" Right: "+this.getRight()+" Top: "+this.getTop()+" Bottom: "+this.getBottom()};return c}();q=function(){function c(b,a){this.sc=b;this.axis=a;this.range=this.getRange();this.min=this.range.min;this.itemWidth=this.getFromTo()/this.range.count;this.offset=this.axis.offset?Math.abs(this.itemWidth/2):0}c.prototype.DIRECTION=1;c.prototype.getRange=function(){return this.axis.getRange()};
c.prototype.getValue=function(b){return this.getFrom()+(this.offset+(b-this.min)*this.itemWidth)*this.DIRECTION};return c}();ua=function(c){function b(){return za=b.__super__.constructor.apply(this,arguments)}k(b,c);b.prototype.getFromTo=function(){return this.sc.getWidth()};b.prototype.getFrom=function(){return this.sc.getLeft()};return b}(q);N=function(c){function b(){return Aa=b.__super__.constructor.apply(this,arguments)}k(b,c);b.prototype.DIRECTION=-1;b.prototype.getFromTo=function(){return this.sc.getHeight()};
b.prototype.getFrom=function(){return this.sc.getBottom()};b.prototype.getTopValue=function(){return b.__super__.getValue.apply(this,[this.getRange().max])};b.prototype.getBottomValue=function(){return b.__super__.getValue.apply(this,[Math.max(1.0E-9,this.getRange().min)])};b.prototype.getValue=function(a){return this.axis.log?(0===a&&(a=1.0E-8),b.__super__.getValue.call(this,Math.log(a)/Math.LN10)):b.__super__.getValue.call(this,a)};return b}(q);q=function(){function c(b,a){this.sc=b;this.axis=a;
this.groupsCount=this.sc.barGroups||1;this.count=this.axis.getRange().count;this.itemSize=this.getSize()/this.count;this.gap=this.itemSize*this.BAR_GAP;this.itemSizeWithoutGap=this.itemSize-this.gap;this.groupSize=this.itemSizeWithoutGap/this.groupsCount;this.axisOffset=this.axis.offset?this.itemSize/2:0;this.offset=this.getFrom()+this.axisOffset;this.gapOffset=this.itemSizeWithoutGap/2;this.itemOffset=this.offset-this.gapOffset}c.prototype.BAR_GAP=0.15;c.prototype.getRange=function(){return this.axis.getRange().count};
c.prototype.middles=function(){var b,a,d,f;if(100<this.count||2>this.count)return[];f=[];b=a=0;for(d=this.count-2;0<=d?a<=d:a>=d;b=0<=d?++a:--a)f.push(this.itemOffset+b*this.itemSize+ +this.itemSizeWithoutGap+this.gap/2);return f};c.prototype.at=function(b,a){null==a&&(a=0);return{from:this.itemOffset+b*this.itemSize+a*this.groupSize,size:this.groupSize}};return c}();G=function(c){function b(){return Ba=b.__super__.constructor.apply(this,arguments)}k(b,c);b.prototype.getSize=function(){return this.sc.getHeight()};
b.prototype.getFrom=function(){return this.sc.getTop()};return b}(q);ra=function(c){function b(){return Ca=b.__super__.constructor.apply(this,arguments)}k(b,c);b.prototype.getSize=function(){return this.sc.getWidth()};b.prototype.getFrom=function(){return this.sc.getLeft()};return b}(q);H=function(c){function b(a,d,f,e){b.__super__.constructor.call(this,a,d,f,e)}k(b,c);b.prototype.setAngles=function(a){this.angles=a;return this.radarAngle=360/this.angles};b.prototype.getCoordsFromXPositionAndYValue=
function(a,d,f,b){null==f&&(f=this.getRadarRadius());null==b&&(b=this.radarAngle);a*=b;b=d/this.radarAxis.getRange().max;d=(a-90)*i.TO_RADIANS;f*=b;return{x:f*Math.cos(d)+this.getCenterX(),y:f*Math.sin(d)+this.getCenterY()}};b.prototype.getRadarRadius=function(){return Math.min(this.getWidth(),this.getHeight())/2};b.prototype.getMax=function(){return this.radarAxis.getRange().max};return b}(t);ea=function(c){function b(a,d,f,e){b.__super__.constructor.call(this,a,d,f,e)}k(b,c);b.prototype.setAngles=
function(a){this.angles=a;return this.radarAngle=180/this.angles};b.prototype.getPositionAngle=function(a,d){null==d&&(d=this.angles);return a*(180/d)+180};b.prototype.getValueAngle=function(a){var d,b;b=this.radarAxis.getRange().min;d=this.radarAxis.getRange().max;return 180*(a-b)/(d-b)+180};b.prototype.getCoordsFromRadiusAndAngle=function(a,d){var b,e;b=d*i.TO_RADIANS;e=this.getCentre();return{x:a*Math.cos(b)+e.x,y:a*Math.sin(b)+e.y}};b.prototype.getRadarRadius=function(){return Math.min(this.getHeight(),
this.getWidth()/2)};b.prototype.getCentre=function(){return{x:this.getCenterX(),y:this.getBottom()}};return b}(t);r=function(c){function b(a){b.__super__.constructor.call(this,a);this.rotation=this.y=this.x=0;this.visible=!0;this.colour=a.colour;this.context=a.context;this.textBaseline="top";this.calculatedtextDimensions=!1}k(b,c);b.prototype.linkImage={width:11,height:8,totalWidth:16};b.prototype.optionsChanged=function(a){a=this.options=a;this.font=a.font;this.fontSize=a.fontSize;this.fontHeight=
a.fontHeight;this.maxLineWidth=a.maxLineWidth;this.font=this.options.fontSize+"px "+this.options.font;return this.calculatedtextDimensions=!1};b.prototype.render=function(a){var d,b,e,c,g,h,j=this;if(this.hasVisibleText()){a.save();a.font=this.font;this.colour&&(a.fillStyle=this.colour);this.textAlign&&(a.textAlign=this.textAlign);this.textBaseline&&(a.textBaseline=this.textBaseline);if(this.textWrap){this.textDimensions();a.translate(this.x,this.y);a.moveTo(0,0);h=this.lines;d=c=0;for(g=h.length;c<
g;d=++c)b=h[d],a.fillText(b,this.getXStart(),d*this.fontHeight)}else a.translate(this.x,this.y),a.moveTo(0,0),this.rotation&&a.rotate(this.rotation*i.TO_RADIANS),a.fillText(this.text,this.getXStart(),0);a.restore();this.hasLink()&&(e=new Image,e.onload=function(){var d;a.save();a.translate(Math.floor(j.x),Math.floor(j.y));j.rotation&&a.rotate(j.rotation*i.TO_RADIANS);d=j.getLinkImagePosition();a.drawImage(e,d.x,d.y);return a.restore()},e.src=Charts.options.assetUrl+Charts.options.linkIcon)}};b.prototype.getXStart=
function(){if(!this.hasLink()||0!==this.rotation)return 0;switch(this.textAlign){case "right":return-this.linkImage.totalWidth;case "center":return-this.linkImage.width/2;default:return 0}};b.prototype.getLinkImagePosition=function(){var a,d,b;a=function(){switch(this.textAlign){case "right":return 0-this.linkImage.width;case "center":return(this.width-this.linkImage.width)/2;default:return this.width-this.linkImage.width}}.call(this);b=this.fontHeight-this.linkImage.height;d=function(){switch(this.textBaseline){case "bottom":return 0-
this.linkImage.height-b;case "middle":return this.height/2-this.linkImage.height-b/2;default:return this.height-this.linkImage.height}}.call(this);return{x:Math.floor(a),y:Math.floor(d)}};b.prototype.setText=function(a,d){this.text=a;this.link=d;return this.calculatedtextDimensions=!1};b.prototype.getWidth=function(){this.textDimensions();return this.width};b.prototype.getHeight=function(){this.textDimensions();return this.height};b.prototype.setFontHeight=function(a){this.fontHeight=a>=this.options.fontHeight?
this.options.fontHeight:a;this.font=this.fontHeight+"px "+this.options.font;return this.calculatedtextDimensions=!1};b.prototype.hasVisibleText=function(){var a;return this.visible&&0<(null!=(a=this.text)?a.length:void 0)};b.prototype.hasLink=function(){var a;return 0<(null!=(a=this.link)?a.length:void 0)&&Charts.options.showLinks};b.prototype.textDimensions=function(){var a,d,b,e,c,g,h,j,m,o=this;if(this.hasVisibleText()){if(this.calculatedtextDimensions)return{width:this.width,height:this.height};
if(this.textWrap){this.lines=[];d="";this.height=this.width=b=0;c=this.measureText(" ",this.font).width;e=function(a){null==a&&(a=!1);a||(d=d.replace(/^\s+|\s+$/g,""));if(d)return o.lines.push(d),o.width=Math.max(b,o.width),o.height+=o.fontHeight,d="",b=0};m=this.text.split(" ");h=0;for(j=m.length;h<j;h++)g=m[h],a=this.measureText(g,this.font),b+a.width>this.maxLineWidth&&e(),d&&(d+=" ",b+=c),d+=g,b+=a.width;this.hasLink()?(b+this.linkImage.totalWidth>this.maxLineWidth&&(e(),d=" "),b+=this.linkImage.totalWidth,
e(!0)):e()}else a=this.measureText(this.text,this.font),this.width=a.width+(this.hasLink()?this.linkImage.totalWidth:0),this.height=null!=(e=a.height)?e:this.fontHeight;this.calculatedtextDimensions=!0;return{width:this.width,height:this.height}}};b.prototype.intercepts=function(a){return i.isHasRectPoint(this,a)};b.prototype.onTouch=function(a){if(this.visible&&this.tip&&i.isHasRectPoint(this,a))return a.addTooltip(this.tip,this.colour,this.context)};b.prototype.onClick=function(a){if(this.hasLink()&&
this.intercepts(a))return{link:this.link}};return b}(n);u=function(c){function b(){return Da=b.__super__.constructor.apply(this,arguments)}k(b,c);b.prototype.getHeight=function(){var a,d,b,e,c;a=0;c=this.children;b=0;for(e=c.length;b<e;b++)d=c[b],d.hasVisibleText()&&(a=Math.max(a,d.getHeight()));return a};b.prototype.getWidth=function(){var a,d,b,e,c;d=0;c=this.children;b=0;for(e=c.length;b<e;b++)a=c[b],a.hasVisibleText()&&(d=Math.max(d,a.getWidth()));return d};b.prototype.getSumWidth=function(){var a,
d,b,e,c;d=0;c=this.children;b=0;for(e=c.length;b<e;b++)a=c[b],a.hasVisibleText()&&(d+=a.getWidth());return d};b.prototype.getSumHeight=function(){var a,d,b,e,c;a=0;c=this.children;b=0;for(e=c.length;b<e;b++)d=c[b],d.hasVisibleText()&&(a+=d.getHeight());return a};return b}(n);y=function(c){function b(a,d){null==d&&(d={});b.__super__.constructor.call(this,d);this.values=a;this.addValues();this.keyPadding=12;this.keysBottomPading=3;this.hidden=!1}k(b,c);b.prototype.getElement=function(a,d){var b;b=new r(d);
b.setText(d.text,d.link);return new W(new V(d),b)};b.prototype.measure=function(a){var d,b,e,c,g,h,j;if(0===this.children.length)return{widht:0,height:0};c=e=0;j=this.children;g=0;for(h=j.length;g<h;g++)d=j[g],b=0<e?this.keyPadding:0,e+d.width()+b>a&&(e=0,c+=d.height(),b=0),e+=d.width()+b;c+=this.children[this.children.length-1].height()+this.keysBottomPading;return{width:a,height:c}};b.prototype.resize=function(a){var d,f,e,c,g,h,j,m,o;if(!this.hidden&&this.children.length){c=a.getLeft();h=a.getTop();
g=e=0;o=this.children;j=0;for(m=o.length;j<m;j++)d=o[j],f=0<e?this.keyPadding:0,e+d.width()+f>a.getWidth()&&(e=0,g+=d.height(),f=0),e+=f,d.x=c+e,d.y=h+g,e+=d.width();return b.__super__.resize.call(this,a)}};b.prototype.render=function(a){return this.hidden?void 0:b.__super__.render.call(this,a)};return b}(n);W=function(c){function b(a,d){this.tick=a;this.textField=d;b.__super__.constructor.call(this);this.addChild(this.tick);this.addChild(this.textField);this.padding=1}k(b,c);b.prototype.width=function(){return this.tick.width+
this.padding+this.textField.getWidth()};b.prototype.height=function(){return this.textField.getHeight()};b.prototype.resize=function(){this.tick.x=this.x;this.tick.y=this.y+this.height()/2;this.textField.x=this.x+this.padding+this.tick.width;return this.textField.y=this.y};return b}(n);V=function(c){function b(a){b.__super__.constructor.call(this,a);this.width=10;this.height=2;this.colour=a.colour}k(b,c);b.prototype.render=function(a){a.fillStyle=this.colour;return a.fillRect(this.x,this.y-this.height/
2,this.width,this.height)};return b}(n);Y=function(c){function b(a){var d;b.__super__.constructor.apply(this,arguments);this.values=a.values;this.colours=a.colours;this.props=i.copy(this.options.pie);this.fillPercent=null!=(d=a["fill-percent"])?d:100;this.startAngle=a["start-angle"]||0;this.gradient=this.props.gradient;this.addValues()}k(b,c);b.prototype.addValues=function(){var a,d,b,e,c,g,h,j;e=this.startAngle;c=0;g=this.values;a=0;for(b=g.length;a<b;a++)d=g[a],c+=isNaN(d)?d.value:d;j=this.values;
a=g=0;for(h=j.length;g<h;a=++g)d=j[a],b=360/c*(isNaN(d)?d.value:d),0<=b&&this.addChild(this.addSlice(a,e%360,b,this.colours[a%this.colours.length],d)),e+=b};b.prototype.addSlice=function(a,d,b,e,c){c=isNaN(c)?c:{};c=i.mergeProps(this.props,c);c.start=d;c.angle=b;c.colour=e;c.fillPercent=this.fillPercent;return new $(a,c)};b.prototype.render=function(a){var d,f;b.__super__.render.call(this,a);d=Math.max(0,this.radius-this.radius*(this.fillPercent/100));this.gradient&&(a.save(),f=a.createRadialGradient(this.x,
this.y,0,this.x,this.y,this.radius),f.addColorStop(0,"transparent"),f.addColorStop(1,"rgba(0, 0, 0, 0.2)"),a.fillStyle=f,a.beginPath(),a.arc(this.x,this.y,d,0,360*i.TO_RADIANS,!1),a.arc(this.x,this.y,this.radius,360*i.TO_RADIANS,0,!0),a.fill(),a.restore());100>this.fillPercent&&(a.save(),a.fillStyle="white",a.beginPath(),a.arc(this.x,this.y,d,0,360*i.TO_RADIANS,!1),a.fill(),a.restore())};b.prototype.resize=function(a){var d,b,e,c,g,h,j,m,o,i,k,p,w,ya,n;this.x=a.getCenterX();this.y=a.getCenterY();
b=null;if(!b){b=Math.min(a.getWidth(),a.getHeight())/2;h={top:0,right:0,bottom:0,left:0};p=this.children;o=0;for(k=p.length;o<k;o++)for(c in d=p[o],d=d.getRadiusOffsets(),h)d[c]>h[c]&&(h[c]=d[c]);d=b-Math.max(h.top,h.bottom);d+h.left>a.getWidth()/2&&(d=a.getWidth()/2-h.left);d+h.right>a.getWidth()/2&&(d=a.getWidth()/2-h.right);b=Math.max(d,10)}this.radius=b;i=720;k=-1;m=-720;o=-1;j=720;c=-1;g=-720;h=-1;n=this.children;e=w=0;for(ya=n.length;w<ya;e=++w)if(d=n[e],d.resize(a,b),p=d.getTicAngle(),270<=
p){if(p<i||90>=i)i=p,k=e;if(0>m||90<m&&m<p)m=p,o=e}else if(90>=p){if(p>m||90<m)m=p,o=e;if(360<i||90>=i&&p<m)i=p,k=e}else if(180>=p){if(0>g||p<g)g=p,h=e;if(360<j||j<p)j=p,c=e}else{if(360<j||p>j)j=p,c=e;if(0>g||g>p)g=p,h=e}b=k;e=a.getTop();for(d=!1;0<=b&&!d;)d=this.children[b],p=d.getTicAngle(),270<=p||90>=p?(e=d.moveLabelDown(a,e),b++,b>=this.children.length&&(b=0),d=b===k):d=!0;b=o;e=a.getBottom();for(d=!1;0<=b&&!d;)d=this.children[b],p=d.getTicAngle(),270<=p||90>=p?(e=d.moveLabelUp(a,e),b--,0>b&&
(b=this.children.length-1),d=b===o):d=!0;b=h;e=a.getBottom();for(d=!1;0<=b&&!d;)d=this.children[b],p=d.getTicAngle(),90<p&&270>p?(e=d.moveLabelUp(a,e),b++,b>=this.children.length&&(b=0),d=b===h):d=!0;b=c;e=a.getTop();for(d=!1;0<=b&&!d;)d=this.children[b],p=d.getTicAngle(),90<p&&270>p?(e=d.moveLabelDown(a,e),b--,0>b&&(b=this.children.length-1),d=b===c):d=!0};return b}(n);Z=function(c){function b(a,d){b.__super__.constructor.call(this,d);this.index=a;this.tip=d.tip;this.colour=d.colour;this.angle=d.angle;
this.fillPercent=d.fillPercent;this.context=d.context;this.startAngle=d.start;this.endAngle=this.startAngle+this.angle}k(b,c);b.prototype.getTicAngle=function(){return(this.startAngle+this.angle/2)%360};b.prototype.resize=function(a,d){this.radius=d;this.x=a.getCenterX();return this.y=a.getCenterY()};b.prototype.render=function(a){var d;a.save();a.fillStyle=this.colour;d=Math.max(0,this.radius-this.radius*(this.fillPercent/100));a.beginPath();a.arc(this.x,this.y,d,this.startAngle*i.TO_RADIANS,this.endAngle*
i.TO_RADIANS,!1);a.arc(this.x,this.y,this.radius,this.endAngle*i.TO_RADIANS,this.startAngle*i.TO_RADIANS,!0);a.fill();a.restore()};b.prototype.intercepts=function(a){return i.isHasArcPoint(this,a)};b.prototype.onClick=function(a){if(this.context&&this.intercepts(a))return this.context};b.prototype.onTouch=function(a){if(this.tip&&this.intercepts(a))return a.addTooltip(this.tip,this.colour,this.context)};b.prototype.isRightSide=function(){return 270<=this.getTicAngle()||90>=this.getTicAngle()};return b}(n);
$=function(c){function b(a,d){b.__super__.constructor.apply(this,arguments);this.index=a;this.tickSize=10;this.tickExtensionSize=4;this.labelMargin=10;this.pieLabel=new r(d);this.pieLabel.textWrap=!0;this.pieLabel.setText(d.label,d.link);this.pieLabel.colour=d.colour;this.pieLabel.visible=!0;this.pieLabel.tip=d.tip;this.addChild(this.pieLabel);this.pieSlice=new Z(a,d);this.addChild(this.pieSlice)}k(b,c);b.prototype.getRadiusOffsets=function(){var a,d,b;a={top:0,right:0,bottom:0,left:0};this.pieLabel.visible&&
(d=this.pieSlice.getTicAngle(),b=this.tickSize,0<=d&&90>=d?(a.bottom=d/90*b+this.pieLabel.getHeight()/2+1,a.right=(90-d)/90*b+this.tickExtensionSize+this.labelMargin+this.pieLabel.getWidth()):90<d&&180>=d?(a.bottom=(180-d)/90*b+this.pieLabel.getHeight()/2+1,a.left=(d-90)/90*b+this.tickExtensionSize+this.labelMargin+this.pieLabel.getWidth()+4):180<d&&270>d?(a.top=(d-180)/90*b+this.pieLabel.getHeight()/2+1,a.left=(270-d)/90*b+this.tickExtensionSize+this.labelMargin+this.pieLabel.getWidth()+4):(a.top=
(360-d)/90*b+this.pieLabel.getHeight()/2+1,a.right=(d-270)/90*b+this.tickExtensionSize+this.labelMargin+this.pieLabel.getWidth()));return a};b.prototype.render=function(a){b.__super__.render.call(this,a);this.drawTicLines(a);return this.pieLabel.visible=!0};b.prototype.resize=function(a,d){var b,e;this.pieRadius=d;this.pieSlice.resize(a,this.pieRadius);b=this.getTicAngle();if(this.pieLabel.visible||this.hidePieLabel)return e=this.pieRadius+this.tickSize,b*=i.TO_RADIANS,this.pieLabel.x=this.pieSlice.x+
e*Math.cos(b),this.pieLabel.y=this.pieSlice.y+e*Math.sin(b),this.pieLabel.x=this.isRightSide()?this.pieLabel.x+(this.tickExtensionSize+this.labelMargin):this.pieLabel.x-this.pieLabel.getWidth()-this.tickExtensionSize-this.labelMargin-4,this.pieLabel.y-=this.pieLabel.getHeight()/2};b.prototype.getTicAngle=function(){return this.pieSlice.getTicAngle()};b.prototype.isRightSide=function(){return this.pieSlice.isRightSide()};b.prototype.moveLabelDown=function(a,d){var b,e,c;return this.pieLabel.visible?
(e=!1,c=this.getLabelTopY(),c<d&&((b=d-c,this.pieLabel.getHeight()+d>a.getBottom()-1&&(b=a.getBottom()-this.pieLabel.getHeight()-c,e=!0),this.pieLabel.y+=b,e)?this.pieLabel.visible=!1:(b=this.pieRadius+this.tickSize,e=(this.pieLabel.y+this.pieLabel.getHeight()/2-this.pieSlice.y)/b,e=Math.max(-1,Math.min(1,e)),e=Math.asin(e)/i.TO_RADIANS,90<this.getTicAngle()&&270>this.getTicAngle()?e=180-e:270<=this.getTicAngle()&&(e=360+e),b=this.pieSlice.x+b*Math.cos(e*i.TO_RADIANS),this.pieLabel.x=this.isRightSide()?
b+this.tickExtensionSize+this.labelMargin:b-this.pieLabel.getWidth()-this.tickExtensionSize-this.labelMargin-4)),this.pieLabel.y+this.pieLabel.getHeight()):d};b.prototype.moveLabelUp=function(a,d){var b,e;return this.pieLabel.visible?(e=!1,b=this.getLabelBottomY(),b>d&&((b=d-b,d-this.pieLabel.getHeight()<a.getTop()+1&&(b=a.getTop()-this.getLabelTopY(),e=!0),this.pieLabel.y+=b,e)?this.pieLabel.visible=!1:(e=this.pieRadius+this.tickSize,b=(this.pieLabel.y+this.pieLabel.getHeight()/2-this.pieSlice.y)/
e,b=Math.max(-1,Math.min(1,b)),b=Math.asin(b)/i.TO_RADIANS,90<this.getTicAngle()&&270>this.getTicAngle()?b=180-b:270<=this.getTicAngle()&&(b=360+b),e=this.pieSlice.x+e*Math.cos(b*i.TO_RADIANS),this.pieLabel.x=this.isRightSide()?e+this.tickExtensionSize+this.labelMargin:e-this.pieLabel.getWidth()-this.tickExtensionSize-this.labelMargin-4)),this.pieLabel.y):d};b.prototype.getLabelTopY=function(){return this.pieLabel.y};b.prototype.getLabelBottomY=function(){return this.pieLabel.y+this.pieLabel.getHeight()};
b.prototype.drawTicLines=function(a){var d,b,e,c;if(this.pieLabel.text&&this.pieLabel.visible)return e=this.getTicAngle(),d=e*i.TO_RADIANS,b=this.pieSlice.isRightSide()?this.pieLabel.x-this.labelMargin:this.pieLabel.x+this.pieLabel.getWidth()+this.labelMargin+4,c=this.pieLabel.y+this.pieLabel.getHeight()/2,e=this.pieSlice.x+this.pieRadius*Math.cos(d),d=this.pieSlice.y+this.pieRadius*Math.sin(d),a.strokeStyle=this.pieLabel.colour,a.lineWidth=1,a.beginPath(),a.moveTo(b,c),b+=this.pieSlice.isRightSide()?
-this.tickExtensionSize:this.tickExtensionSize,a.lineTo(b,c),a.closePath(),a.stroke(),a.beginPath(),a.moveTo(b,c),a.strokeStyle=this.pieLabel.colour,a.lineWidth=1,a.lineTo(e,d),a.closePath(),a.stroke()};return b}(n);P=function(c){function b(a){this.type=a;this.step=5;this.lineWidth=1;b.__super__.constructor.call(this)}k(b,c);b.prototype.resize=function(a){this.sc=a;return b.__super__.resize.call(this,this.sc)};b.prototype.renderVertical=function(a){var d,b,e,c,g,h,j,m,o;b=this.sc.getVerticalBarCoords();
e=this.sc.getTop();d=this.sc.getBottom();m=b.middles();g=0;for(j=m.length;g<j;g++)if(b=m[g],b=Math.round(b),d>e){c=h=e;for(o=2*this.step;0<o?h<=d:h>=d;c=h+=o)a.fillRect(b,c,this.lineWidth,Math.min(this.step,d-c))}};b.prototype.renderHorizontal=function(a){var d,b,e,c,g,h,j,m,o;d=this.sc.getHorizontalBarCoords();b=this.sc.getLeft();e=this.sc.getRight();m=d.middles();g=0;for(j=m.length;g<j;g++)if(c=m[g],c=Math.round(c),e>b){d=h=b;for(o=2*this.step;0<o?h<=e:h>=e;d=h+=o)a.fillRect(d,c,Math.min(this.step,
e-d),this.lineWidth)}};b.prototype.render=function(a){a.save();a.fillStyle="rgba(0, 0, 0, 0.3)";"hbar"===this.type?this.renderHorizontal(a):this.renderVertical(a);a.restore();return b.__super__.render.call(this,a)};return b}(n);O=function(c){function b(a,d){this.group=a;this.props=d;b.__super__.constructor.call(this,d);this.props=i.valuesOf(this.options.base,this.options.bar,d);this.values=d.values;this.keys=d.keys;this.addValues()}k(b,c);b.prototype.getElement=function(a,d){switch(this.props.type){case "bar_stack":case "multihbar":return new ka(a,
this.group,d,this.props);case "hbar":return new F(a,this.group,i.valuesOf(this.props,d));default:return new L(a,this.group,i.valuesOf(this.props,d))}};b.prototype.getKeys=function(){return this.keys?this.keys:this.props.text?[this.props]:b.__super__.getKeys.call(this)};b.prototype.resize=function(a){this.sc=a;return b.__super__.resize.call(this,a)};b.prototype.onTouch=function(a){a.sc=this.sc;return b.__super__.onTouch.call(this,a)};return b}(n);q=function(c){function b(a,d,f){this.index=a;this.group=
d;this.props=f;b.__super__.constructor.call(this,f);this.colour=f.colour;this.alpha=f.alpha;this.tip=f.tip;this.axis=f.axis;this.context=f.context;this.shadow=f.shadow;this.shadowColor=f.shadowColor;this.shadowBlur=f.shadowBlur;this.shadowOffsetX=f.shadowOffsetX;this.shadowOffsetY=f.shadowOffsetY;this.colour=i.hexToRGB(this.colour,this.alpha)}k(b,c);b.prototype._addLabel=function(a,d){this.barLabel=new B(this,a,d);if(a)return this.addChild(this.barLabel)};b.prototype.resize=function(a){this.sc=a;
this.barCoords=this.getBarCoords(a);return b.__super__.resize.call(this,a)};b.prototype.render=function(a){a.save();a.beginPath();a.moveTo(this.sc.getLeft(),this.sc.getTop());a.lineTo(this.sc.getLeft()+this.sc.getWidth(),this.sc.getTop());a.lineTo(this.sc.getLeft()+this.sc.getWidth(),this.sc.getTop()+this.sc.getHeight());a.lineTo(this.sc.getLeft(),this.sc.getTop()+this.sc.getHeight());a.closePath();a.clip();a.fillStyle=this.colour;this.shadow&&(a.shadowColor=this.shadowColor,a.shadowBlur=this.shadowBlur,
a.shadowOffsetX=this.shadowOffsetX,a.shadowOffsetY=this.shadowOffsetY);a.fillRect(this.barCoords.x,this.barCoords.y,this.barCoords.width,this.barCoords.height);a.restore();b.__super__.render.call(this,a)};b.prototype.intercepts=function(a){return i.isHasRectPoint(this.barCoords,a)};b.prototype.onTouch=function(a){if(this.tip&&this.intercepts(a))return a.addTooltip(this.tip,this.colour,this.context)};b.prototype.onClick=function(a){if(this.context&&this.intercepts(a))return this.context};return b}(n);
F=function(c){function b(a,d,f){b.__super__.constructor.call(this,a,d,f);this.left=f.left;this.right=f.right;a=f.label;this.left||(this.left=0);this.right||(this.right=0);this._addLabel(a,f)}k(b,c);b.prototype.getBarCoords=function(a){var d,b,e;b=a.getHorizontalBarCoords(this.axis).at(this.index,this.group);d=b.from;e=b.size;b=a.getXFromValue(this.left);a=a.getXFromValue(this.right);return i.normalizeRect({x:b,y:d,width:a-b,height:e,orientation:b>a?"left":"right"})};return b}(q);L=function(c){function b(a,
d,f){b.__super__.constructor.call(this,a,d,f);this.top=f.top;this.bottom=f.bottom;this._addLabel(f.label,f)}k(b,c);b.prototype.getBarCoords=function(a){var d,b,e;b=a.getVerticalBarCoords().at(this.index,this.group);d=b.from;b=b.size;e=this.top?Math.max(a.getYFromValue(this.top,this.axis),a.getTop()):a.getYBottom();a=this.bottom?Math.min(a.getYFromValue(this.bottom,this.axis),a.getBottom()):a.getYBottom();return i.normalizeRect({x:d,y:e,width:b,height:a-e,orientation:e>a?"down":"up"})};return b}(q);
ka=function(c){function b(a,d,f,e){this.index=a;this.group=d;this.values=f;this.props=e;b.__super__.constructor.call(this,e);this.top=this.bottom=this.left=this.right=0;this.type="multihbar"===this.props.type?"horizontal":"vertical";this.addValues();a=this.props.label;this.children.length&&a&&this.addChild(new B(this,a,e))}k(b,c);b.prototype.getBarCoords=function(a){var d,b,e;switch(this.type){case "horizontal":return e=a.getHorizontalBarCoords(this.axis).at(this.index,this.group),d=e.from,e=e.size,
b=a.getXFromValue(this.left),a=a.getXFromValue(this.right),i.normalizeRect({x:b,y:d,width:a-b,height:e,orientation:b>a?"left":"right"});case "vertical":return e=a.getVerticalBarCoords().at(this.index,this.group),d=e.from,e=e.size,b=this.top?a.getYFromValue(this.top,this.axis):a.getYBottom(),a=this.bottom?a.getYFromValue(this.bottom,this.axis):a.getYBottom(),i.normalizeRect({x:d,y:b,width:e,height:a-b,orientation:b>a?"down":"up"})}};b.prototype.getElement=function(a,d){if(null!=d)switch(this.props.colours&&
!d.colour&&(d.colour=this.props.colours[a%this.props.colours.length]),this.type){case "horizontal":return this.right=d.right,new F(this.index,this.group,i.valuesOf(this.props,d));case "vertical":if(null==d.val)break;d.bottom=this.top;this.top+=d.val;d.top=this.top;return new L(this.index,this.group,i.valuesOf(this.props,d))}};return b}(n);B=function(c){function b(a,d,f){this.holder=a;b.__super__.constructor.call(this);this.label=new r(f);this.label.setText(d);this.addChild(this.label)}k(b,c);b.prototype.resize=
function(a){var d,f,e,c;b.__super__.resize.call(this,a);if(this.label)if(this.label.visible=!0,this.label.rotation=0,d=this.holder.getBarCoords(a),e=d.x,c=d.y,f=d.width,a=d.height,d=d.orientation,("up"===d||"down"===d)&&14>f)this.label.visible=!1;else if(("left"===d||"right"===d)&&a+4<=this.label.getHeight())this.label.visible=!1;else switch(d){case "up":this.label.textBaseline="bottom";this.label.textAlign="center";this.label.getWidth()>f&&this.label.getHeight()<f&&(this.label.rotation=270,this.label.textAlign=
"left",this.label.textBaseline="middle");this.label.x=e+f/2;this.label.y=c;break;case "down":this.label.textBaseline="top";this.label.textAlign="center";this.label.x=e+f/2;this.label.y=c+a;break;case "right":this.label.textBaseline="middle";this.label.textAlign="left";this.label.x=e+f+5;this.label.y=c+a/2;break;case "left":this.label.textBaseline="middle",this.label.textAlign="right",this.label.x=e-5,this.label.y=c+a/2}};return b}(n);s=function(c){function b(a){var d;b.__super__.constructor.call(this,
a);this.axis=a.axis;this.yrightaxis="right"===this.axis;this.xVal=a.x;this.yVal=a.y||a.value;this.dotSize=a["dot-size"]||1;this.index=a.index;this.colour=a.colour;this.tip=a.tip;this.context=a.context;d=a.label;this.fillColour=this.colour;d&&(this.label=new r(a),this.label.setText(d),this.addChild(this.label))}k(b,c);b.prototype.resize=function(a){var d,b;d=void 0!==this.xVal&&void 0!==this.yVal?a.getCoordsFromXValueAndYValue(this.xVal,this.yVal,this.axis):a.getCoordsFromXPositionAndYValue(this.index,
this.yVal,this.axis);this.x=d.x;this.y=d.y;this.label&&(this.label.colour="black",this.label.textAlign="left",this.label.textBaseline="bottom",this.label.x=this.x,this.label.y=this.y,b=a.getXAxisValues(),d=a.getWidth()/100,this.label.visible=b&&b.range.count<=d?!0:a instanceof H||b&&0===this.index%Math.floor(b.range.count/d))};b.prototype.getMaxX=function(){return this.xVal||this.index};b.prototype.getMinX=function(){return this.xVal||this.index};b.prototype.onTouch=function(a){this.tip&&(a.isVerticalTouch()?
a.isPointInVerticalTouch(this.x,this.y,this.dotSize/2)&&a.addTooltipAtXY(this.x,this.y,this.tip,this.colour,this.context):i.isHasCirclePoint({x:this.x,y:this.y,radius:this.dotSize},a)&&a.addTooltip(this.tip,this.colour,this.context))};b.prototype.onClick=function(a){if(this.context&&i.isHasCirclePoint({x:this.x,y:this.y,radius:this.dotSize},a))return this.context};return b}(n);E=function(c){function b(a){this.props=a;b.__super__.constructor.call(this,a)}k(b,c);b.prototype.render=function(a){a.save();
a.beginPath();a.fillStyle=this.colour;a.arc(this.x,this.y,this.dotSize,0,2*Math.PI,!0);a.fill();a.closePath();a.restore();b.__super__.render.call(this,a)};return b}(s);J=function(c){function b(){return Ea=b.__super__.constructor.apply(this,arguments)}k(b,c);b.prototype.render=function(a){var d,f,e,c,g,h;c=this.dotSize;e=0.6*c;a.save();a.beginPath();a.lineWidth=1;a.strokeStyle=this.colour;a.fillStyle=this.fillColour;for(d=h=0;10>=h;d=++h)f=d%2?e:c,g=i.circleXY({x:this.x,y:this.y},f,36*d),f=g.x,g=g.y,
d?a.lineTo(f,g):a.moveTo(f,g);a.fill();a.stroke();a.closePath();a.restore();b.__super__.render.call(this,a)};return b}(s);D=function(c){function b(){return Fa=b.__super__.constructor.apply(this,arguments)}k(b,c);b.prototype.render=function(a){a.save();a.beginPath();a.lineWidth=1;a.strokeStyle=this.colour;a.arc(this.x,this.y,this.dotSize,0,2*Math.PI,!0);a.stroke();a.closePath();a.restore();b.__super__.render.call(this,a)};return b}(s);C=function(c){function b(){return Ga=b.__super__.constructor.apply(this,
arguments)}k(b,c);b.prototype.render=function(a){var d,f,e,c,g,h,j=this;f=this.dotSize;d=function(a){return i.circleXY({x:j.x,y:j.y},f,a)};d=[d(60),d(120),{x:this.x,y:this.y},d(-60),d(-120)];a.save();a.beginPath();a.lineWidth=1;a.strokeStyle=this.colour;a.fillStyle=this.fillColour;a.moveTo(this.x,this.y);g=0;for(h=d.length;g<h;g++)c=d[g],e=c.x,c=c.y,a.lineTo(e,c);a.closePath();a.fill();a.stroke();a.restore();b.__super__.render.call(this,a)};return b}(s);A=function(c){function b(){return Ha=b.__super__.constructor.apply(this,
arguments)}k(b,c);b.prototype.render=function(a){var d,f,e,c,g;a.save();a.beginPath();a.lineWidth=1;a.strokeStyle=this.colour;a.fillStyle=this.fillColour;f=this.dotSize;for(d=g=0;2>=g;d=++g)c=i.circleXY({x:this.x,y:this.y},f,120*d),e=c.x,c=c.y,d?a.lineTo(e,c):a.moveTo(e,c);a.closePath();a.fill();a.stroke();a.restore();b.__super__.render.call(this,a)};return b}(s);X=function(c){function b(a){b.__super__.constructor.call(this,a);a=i.mergeProps(a,i.copy(this.options.line));this.values=a.values;this.text=
a.text;this.link=a.link;this.colour=a.colour;this.fill=a.fill;this.axis=a.axis;this.shadow=a.shadow;this.shadowColor=a.shadowColor;this.shadowColorFill=a.shadowColorFill;this.shadowBlur=a.shadowBlur;this.shadowOffsetX=a.shadowOffsetX;this.shadowOffsetY=a.shadowOffsetY;this.type=function(){switch(a.type){case "line_dot":return"dotted";case "line_hollow":return"dashed";case "area":return this.area=!0,"line";default:return"line"}}.call(this);this.lineWidth=a.width;this.loop=a.loop;if(this.area||this.fill)this.fill_colour=
i.hexToRGB(this.fill?this.fill:this.color,a["fill-alpha"]);this.dotStyle=i.mergeProps(a["dot-style"],i.copy(this.options.lineDot));this.addValues()}k(b,c);b.prototype.getElement=function(a,b){var f;isNaN(b)||(b={value:b});f=i.mergeProps(b,this.dotStyle);f.index=a;f.colour=this.colour;f.axis=this.axis;switch(this.dotStyle.type){case "dot":return new s(f);case "solid-dot":return new E(f);case "hollow-dot":return new D(f);case "star":return new J(f);case "bow":return new C(f);case "anchor":return new A(f);
default:return new s(f)}};b.prototype.getKeys=function(){return this.text?[{text:this.text,colour:this.colour,link:this.link}]:b.__super__.getKeys.call(this)};b.prototype.resize=function(a){this.sc=a;return b.__super__.resize.call(this,this.sc)};b.prototype.dashedLine=function(a,b,f,e,c,g,h){var j,m,o,i,k,p;g||(g=[10,5]);j=g.length;a.moveTo(b,f);e-=b;m=c-f;c=m/e;o=Math.sqrt(e*e+m*m);i=!0;h?m=1:(m=0,h=g[m++%j]);for(;0.1<=o;)h>o&&(k=h-o,h=o),p=Math.sqrt(h*h/(1+c*c)),0>e&&(p=-p),b+=p,f+=c*p,i?a.lineTo(b,
f):a.moveTo(b,f),o-=h,i=!i,h=g[m++%j];return k};b.prototype.renderAsLine=function(a){return this.renderBasic(a,this.loop,this.fill_colour,!0)};b.prototype.renderBasic=function(a,b,f,e){var c,g,h,j,m,i;h=f&&!b;a.beginPath();i=this.children;g=j=0;for(m=i.length;j<m;g=++j)c=i[g],0===g?h?(a.moveTo(c.x,this.sc.bottom),a.lineTo(c.x,c.y)):a.moveTo(c.x,c.y):a.lineTo(c.x,c.y),g===this.children.length-1&&h&&a.lineTo(c.x,this.sc.bottom);e&&a.stroke();f&&(a.fillStyle=this.fill_colour,this.shadow&&(a.shadowColor=
this.shadowColorFill),a.fill());a.closePath();if(b)return a.stroke()};b.prototype.renderAsDashed=function(a){this.renderBasic(a,!1,this.fill_colour,!1);return this.renderAsSeparatedLine(a,[30,10])};b.prototype.renderAsDoted=function(a){this.renderBasic(a,!1,this.fill_colour,!1);return this.renderAsSeparatedLine(a,[5,5])};b.prototype.renderAsSeparatedLine=function(a,b){var f,e,c,g,h,j,m,i;this.renderBasic(a,!1,this.fill_colour,!1);a.beginPath();i=this.children;e=j=0;for(m=i.length;j<m;e=++j)f=i[e],
e+1<this.children.length&&(h=f.x,f=f.y,c=this.children[e+1],e=c.x,c=c.y,g=this.dashedLine(a,h,f,e,c,b,g));a.stroke();return a.closePath()};b.prototype.render=function(a){a.save();a.beginPath();a.moveTo(this.sc.getLeft(),this.sc.getTop());a.lineTo(this.sc.getLeft()+this.sc.getWidth(),this.sc.getTop());a.lineTo(this.sc.getLeft()+this.sc.getWidth(),this.sc.getTop()+this.sc.getHeight());a.lineTo(this.sc.getLeft(),this.sc.getTop()+this.sc.getHeight());a.closePath();a.clip();if(1<this.children.length){a.save();
a.strokeStyle=this.colour;a.lineWidth=this.lineWidth;this.shadow&&(a.shadowColor=this.shadowColor,a.shadowBlur=this.shadowBlur,a.shadowOffsetX=this.shadowOffsetX,a.shadowOffsetY=this.shadowOffsetY);switch(this.type){case "line":this.renderAsLine(a);break;case "dashed":this.renderAsDashed(a);break;case "dotted":this.renderAsDoted(a)}a.restore()}b.__super__.render.call(this,a);return a.restore()};b.prototype.onTouch=function(a){a.sc=this.sc;return b.__super__.onTouch.call(this,a)};return b}(n);Q=function(c){function b(a,
d){var f;this.group=a;b.__super__.constructor.call(this,d);f=this.props=i.mergeProps(d,i.copy(this.options.candle));this.values=f.values;this.text=f.text;this.link=f.link;this.colour=f.colour;this.axis=f.axis;this.addValues()}k(b,c);b.prototype.getElement=function(a,b){return new R(a,this.group,b,this.props)};b.prototype.getKeys=function(){return this.text?[{text:this.text,colour:this.colour,link:this.link}]:b.__super__.getKeys.call(this)};return b}(n);R=function(c){function b(a,d,f,e){var c;this.index=
a;this.group=d;this.high=f.high;this.low=f.low;this.top=f.top;this.bottom=f.bottom;this.tip=f.tip;b.__super__.constructor.call(this,e);this.yrightaxis="right"===e.axis;d=e.colour;c=e.positiveColour;f=e.negativeColour;a=e.alpha;this.context=e.context;this.colour=i.hexToRGB(d,a);c&&(this.positiveColour=i.hexToRGB(c,a));f&&(this.negativeColour=i.hexToRGB(f,a))}k(b,c);b.prototype.resize=function(a){this.sc=a};b.prototype.render=function(a){var b,f,e,c,g,h,j,m;b=this.sc;h=b.getVerticalBarCoords().at(this.index,
this.group);this.yrightaxis?(c=b.getCoordsFromXValueAndYRightValue(this.index,this.high),g=b.getCoordsFromXValueAndYRightValue(this.index,this.low),m=b.getCoordsFromXValueAndYRightValue(this.index,this.top),b=b.getCoordsFromXValueAndYRightValue(this.index,this.bottom)):(c=b.getCoordsFromXValueAndYValue(this.index,this.high),g=b.getCoordsFromXValueAndYValue(this.index,this.low),m=b.getCoordsFromXValueAndYValue(this.index,this.top),b=b.getCoordsFromXValueAndYValue(this.index,this.bottom));j=!1;b.y<
m.y&&(j=!0,f=m,m=b,b=f);f=this.colour;e=null!=this.negativeColour;j?this.negativeColour&&(f=this.negativeColour):this.positiveColour&&(f=this.positiveColour);this.coords=i.normalizeRect({x:h.from,y:m.y,width:h.size,height:b.y-m.y});a.save();a.lineWidth=1;a.strokeStyle=f;h=h.from+h.size/2;a.beginPath();a.moveTo(h,c.y);a.lineTo(h,m.y);a.stroke();a.closePath();a.beginPath();a.moveTo(h,g.y);a.lineTo(h,b.y);a.stroke();a.closePath();this.shadow&&(a.shadowColor=this.shadowColor,a.shadowBlur=this.shadowBlur,
a.shadowOffsetX=this.shadowOffsetX,a.shadowOffsetY=this.shadowOffsetY);j?e?(a.fillStyle=f,a.fillRect(this.coords.x,this.coords.y,this.coords.width,this.coords.height)):a.strokeRect(this.coords.x,this.coords.y,this.coords.width,this.coords.height):(a.fillStyle=f,a.fillRect(this.coords.x,this.coords.y,this.coords.width,this.coords.height));a.restore()};b.prototype.getMaxX=function(){return this.coords.x};b.prototype.getMinX=function(){return this.coords.x};b.prototype.onTouch=function(a){if(a.isVerticalTouch()){if(a.isRectInVerticalTouch(this.coords))return a.addTooltipAtXY(this.coords.x,
this.coords.y,this.tip,this.colour,this.context)}else if(this.tip&&i.isHasRectPoint(this.coords,a))return a.addTooltip(this.tip,this.colour,this.context)};return b}(n);da=function(c){function b(a){b.__super__.constructor.call(this,a);a=i.mergeProps(a,i.copy(this.options.scatter));this.values=a.values;this.text=a.text;this.link=a.link;this.colour=a.colour;this.axis=a.axis;this.dotStyle=i.mergeProps(a["dot-style"],i.mergeProps(a,i.copy(this.options.scatterDot)));this.addValues()}k(b,c);b.prototype.getElement=
function(a,b){var f;isNaN(b)||(b={value:b});f=i.mergeProps(b,this.dotStyle);f.colour=this.colour;f.axis=this.axis;f.index=a;switch(this.dotStyle.type){case "dot":return new s(f);case "solid-dot":return new E(f);case "hollow-dot":return new D(f);case "star":return new J(f);case "bow":return new C(f);case "anchor":return new A(f);default:return new s(f)}};b.prototype.getKeys=function(){return this.text?[{text:this.text,colour:this.colour,link:this.link}]:b.__super__.getKeys.call(this)};return b}(n);
S=function(c){function b(a){var d,f,e,c;this.data=a;b.__super__.constructor.apply(this,arguments);this.props=i.copy(this.options.funnel);this.gradient=this.props.gradient;this.addChild(this.labels=new u);this.addChild(this.bars=new n);this.total=0;this.data.values.sort(function(a,b){return b.value-a.value});c=this.data.values;d=f=0;for(e=c.length;f<e;d=++f)a=c[d],this.total+=a.value,this.labels.addChild(new U(d,this,a)),this.bars.addChild(new T(d,this,a))}k(b,c);b.prototype.resize=function(a){var b,
f,e;f=this.labels.getWidth();b=Math.min(700,a.getWidth());e=(a.getWidth()-b)/2;b=a.view(a.getTop(),a.getLeft()+e+f,b-f,a.getHeight());a=a.view(a.getTop(),a.getLeft()+e,f,a.getHeight());this.bars.resize(b);this.labels.resize(a);this.values=this.getDataValues(b)};b.prototype.render=function(a){this.bars.render(a);this.labels.render(a)};b.prototype.getCoordsForFunnelBar=function(a){return this.values[a]};b.prototype.getDataValues=function(a){var b,f,e,c,g,h,j,m;g=a.getWidth();f=a.getHeight();a.getLeft();
var a=a.getTop(),i;c=this.data.values;i=[];b=j=0;for(m=c.length;j<m;b=++j)e=c[b],e=e.value/this.total,0===b&&(h=g/e),i.push({width:h*e,height:f*e});m=[];b=h=0;for(j=i.length;h<j;b=++h)f=i[b],g=2<b&&i[b-2].width===i[b-1].width?i[b-1].width:f.width,b=0<b&&i[b-1].width===f.width?f.width:b+1<i.length?i[b+1].width:f.width,c=a,a+=f.height,m.push({y:c,topWidth:g,bottomWidth:b,height:f.height});return m};return b}(n);T=function(c){function b(a,d,f){this.index=a;this.funnel=d;this.tip=f.tip;this.colour=f.colour;
this.context=f.context;b.__super__.constructor.apply(this,arguments);this.gradient=this.options.funnel.gradient}k(b,c);b.prototype.resize=function(a){this.sc=a;return b.__super__.resize.call(this,this.sc)};b.prototype.render=function(a){var d,f,e,c,g,h;b.__super__.render.call(this,a);this.ctx=a;f=this.funnel.getCoordsForFunnelBar(this.index);h=f.y;g=f.topWidth;d=f.bottomWidth;c=f.height;f=this.sc.getCenterX();a.save();this.gradient?(e=a.createLinearGradient(f-g/2,h,f+g/2,h),e.addColorStop(0,this.colour),
e.addColorStop(0.5,i.hexToRGB(this.colour,0.5)),e.addColorStop(1,this.colour),a.fillStyle=e):a.fillStyle=this.colour;a.beginPath();a.moveTo(f-g/2,h);a.lineTo(f+g/2,h);a.lineTo(f+d/2,h+c);a.lineTo(f-d/2,h+c);a.closePath();a.fill();a.restore()};b.prototype.intercepts=function(a){var b,f,e,c,g,h,j;g=!1;e=this.ctx;f=this.funnel.getCoordsForFunnelBar(this.index);j=f.y;h=f.topWidth;b=f.bottomWidth;c=f.height;f=this.sc.getCenterX();e.save();e.beginPath();e.moveTo(f-h/2,j);e.lineTo(f+h/2,j);e.lineTo(f+b/
2,j+c);e.lineTo(f-b/2,j+c);e.isPointInPath(a.x,a.y)&&(g=!0);e.closePath();e.restore();return g};b.prototype.onClick=function(a){if(this.context&&this.intercepts(a))return this.context};b.prototype.onTouch=function(a){if(this.tip&&this.intercepts(a))return a.addTooltip(this.tip,this.colour,this.context)};return b}(n);U=function(c){function b(a,d,f){this.index=a;this.funnel=d;b.__super__.constructor.call(this,f);this.setText(f.label,f.link);this.textWrap=!0;this.colour=f.colour}k(b,c);b.prototype.resize=
function(a){this.sc=a;return b.__super__.resize.call(this,this.sc)};b.prototype.render=function(a){var d;this.x=this.sc.getLeft();d=this.funnel.getCoordsForFunnelBar(this.index);this.y=d.y;if(!(d.height<this.height))return a.save(),a.strokeStyle=this.colour,a.lineWidth=1,a.beginPath(),a.moveTo(this.x,this.y),a.lineTo(this.x+this.sc.getWidth(),this.y),a.closePath(),a.stroke(),a.restore(),b.__super__.render.call(this,a)};return b}(r);q=function(c){function b(a){b.__super__.constructor.call(this,a);
a=i.valuesOf(this.options.axis,this.getDefaultValues(),a);this.colour=a.colour;this.steps=a.steps;this.max=a.max;this.min=a.min;this.offset=a.offset;this.steps=a.steps;this.stroke=a.stroke;this.steps||(this.steps=1);this.tickOffset=2;this.gridVisible=a["grid-visible"];this.tickLength=a["tick-height"];this.gridColour=a["grid-colour"]}k(b,c);b.prototype.getDefaultValues=function(){return{}};b.prototype.getRange=function(){return{min:this.min,max:this.max,steps:this.steps,offset:this.offset,count:this.rangeCount()}};
b.prototype.rangeCount=function(){return this.offset?this.max-this.min+1:this.max-this.min};return b}(n);x=function(c){function b(a){b.__super__.constructor.call(this,a);this.labelsCount=0}k(b,c);b.prototype.addLabels=function(a){var b,f,e,c,g,h,j,m,o;c=this.min||0;if(a.labels){o=a.labels;b=h=0;for(j=o.length;h<j;b=++h)f=o[b],g=void 0!==f.x?f.x:void 0!==f.y?f.y:c,e=i.copy(a),e.visible=void 0===this.steps?!0:0===g%this.steps,e.pos=c++,"string"===typeof f?e.text=f:e=i.mergeProps(f,e),e.link=null!=(m=
a.links)?m[b]:void 0,this.addLabel(e)}};b.prototype.addLabel=function(a){var b;b=new r(a);b.setText(a.text,a.link);b.visible=a.visible;b.xVal=a.x||0===a.x?a.x:a.pos;b.yVal=a.y||0===a.y?a.y:a.pos;this.textAlign&&(b.textAlign=this.textAlign);this.textBaseline&&(b.textBaseline=this.textBaseline);this.addChild(b);this.labelsCount+=1};b.prototype.count=function(){return this.labelsCount-1};return b}(u);sa=function(c){function b(a,d){var f;f=(null!=d?d:{}).text;b.__super__.constructor.call(this,a);this.calcSteps();
a.steps=this.steps;this.hideGrid=a.hideGrid;this.addChild(this.labels=new ta(this,a.labels,a));this.axisLabelOffset=4;f&&(this.axisLabel=new r({colour:"black"}),this.axisLabel.setText(f),this.addChild(this.axisLabel))}k(b,c);b.prototype.isRangeSet=function(){return void 0!==this.max||null===this.max};b.prototype.setRange=function(a,b){this.min=a;this.max=b;return this.calcSteps()};b.prototype.calcSteps=function(){var a,b;a=this.max-this.min;b=this.min>this.max;this.steps||(this.steps=1);250<Math.abs(a)/
this.steps&&(this.steps=a/250);return this.steps=b?-Math.abs(this.steps):Math.abs(this.steps)};b.prototype.measure=function(a,b){var f;f=this.stroke+this.tickLength+this.tickOffset+this.labels.measure(a,b).height;this.axisLabel&&(f+=this.axisLabelOffset+this.axisLabel.getHeight());return{width:a,height:f}};b.prototype.resize=function(a){var d;this.sc=a;a.xaxis=this;if(!this.isRangeSet()){d=this.labels.count();if(void 0===d||0>d)d=0;this.setRange(0,d)}d=this.labels.measure(a.getWidth(),a.getHeight()).height;
d=a.view(a.getBottom()+this.stroke+this.tickLength+this.tickOffset,a.getLeft(),a.getWidth(),d);d.xaxis=this;this.axisLabel&&(this.axisLabel.x=a.getLeft()+a.getWidth()/2,this.axisLabel.y=d.getBottom()+this.axisLabelOffset,this.axisLabel.textAlign="center",this.axisLabel.textBaseline="top");return b.__super__.resize.call(this,d)};b.prototype.render=function(a){var d,f,e,c;this.drawXLine(a);d=f=this.min;e=this.max;for(c=this.steps;0<c?f<=e:f>=e;d=f+=c)this.hideGrid||this.drawXGridLine(a,d),this.drawXTick(a,
d);return b.__super__.render.call(this,a)};b.prototype.drawXLine=function(a){a.fillStyle=this.colour;return a.fillRect(this.sc.getLeft(),this.sc.getBottom(),this.sc.getWidth(),this.stroke)};b.prototype.drawXGridLine=function(a,b){a.fillStyle=this.altAxisStep&&0===b%this.altAxisStep?this.altAxisColour:this.gridColour;return a.fillRect(this.sc.getXFromValue(b),this.sc.getTop(),1,this.sc.getHeight())};b.prototype.drawXTick=function(a,b){a.fillStyle=this.colour;return a.fillRect(this.sc.getXFromValue(b)-
this.stroke/2,this.sc.getBottom()+this.stroke,this.stroke,this.tickLength)};b.prototype.getHeight=function(){return this.stroke+this.tickLength+this.tickOffset+this.labels.getHeight()};b.prototype.getDefaultValues=function(){return{offset:!0}};return b}(q);ta=function(c){function b(a,d,f){this.xaxis=a;b.__super__.constructor.call(this,d);this.steps=f.steps;this.textAlign="center";this.textBaseline="bottom";this.addLabels(d)}k(b,c);b.prototype.measure=function(a){var b,f;f=this.rotation=this.getRotation(a);
b=0;0===f?b=this.getHeight():90===f&&(b=this.getWidth());return{width:a,height:b}};b.prototype.resize=function(a){var d,f,c,l,g,h;c=this.rotation;h=this.children;f=l=0;for(g=h.length;l<g;f=++l)d=h[f],d.x=isNaN(d.xVal)?a.getXFromValue(f):a.getXFromValue(d.xVal),d.y=a.getTop()+d.getHeight(),90===c&&(d.x-=d.getHeight()/2,d.y=a.getTop()+d.getWidth()/2),d.rotation=c;return b.__super__.resize.call(this,a)};b.prototype.getRotation=function(a){var b;b=this.getSumWidth();return a-b<5*(this.children.length-
1)||5>a-b?90:0};return b}(x);wa=function(c){function b(a,d){var f;f=(null!=d?d:{}).text;b.__super__.constructor.call(this,a);this.conditions=a.conditions;this.hideGrid=a.hideGrid;this.log=a.log;this.addChild(this.labels=new M(this,a.labels,a));this.axisLabelOffset=4;f&&(this.axisLabel=new r({colour:"black"}),this.axisLabel.setText(f),this.addChild(this.axisLabel))}k(b,c);b.prototype.getWidth=function(){return this.stroke+this.tickLength+this.tickOffset+this.labels.getWidth()+(this.axisLabel?this.axisLabelOffset+
this.axisLabel.getHeight():0)};b.prototype.measure=function(a,b){return{width:this.getWidth(),height:b}};b.prototype.resize=function(a){var d;a.yaxis=this;d=0;this.axisLabel&&(d=this.axisLabel.getHeight()+this.axisLabelOffset,this.axisLabel.x=a.getLeft()+this.axisLabel.getHeight()/2,this.axisLabel.y=a.getTop()+a.getHeight()/2,this.axisLabel.rotation=270,this.axisLabel.textAlign="center",this.axisLabel.textBaseline="middle");this.labelsCoords=new t(a.getTop(),a.getLeft()+d,a.getLeft()+d+this.labels.getWidth(),
a.getBottom());this.labelsCoords.yaxis=this;this.sc=new t(a.getTop(),this.labelsCoords.getRight(),a.getRight(),a.getBottom());this.sc.yaxis=this;return b.__super__.resize.call(this,this.labelsCoords)};b.prototype.render=function(a){var d,f,c,l,g,h,j,m;if(this.conditions){c=this.sc.getYAxisValues().getBottomValue();l=this.sc.getYAxisValues().getTopValue();g=c;m=this.conditions;h=0;for(j=m.length;h<j;h++)d=m[h],f=this.sc.getYFromValue(d.value),f=Math.min(f,c),f=Math.max(f,l),a.fillStyle=i.hexToRGB(d.colour,
0.3),a.fillRect(this.sc.getLeft()+this.tickOffset+this.tickLength+this.stroke,f,this.sc.getWidth(),g-f),g=f}this.drawYLine(a);d=f=this.min;c=this.max;for(l=this.steps;0<l?f<=c:f>=c;d=f+=l)this.log&&(d=Math.pow(10,d)),this.hideGrid||this.drawYGridLine(a,d),this.drawYTick(a,d);return b.__super__.render.call(this,a)};b.prototype.drawYLine=function(a){a.fillStyle=this.colour;return a.fillRect(this.sc.getLeft()+this.tickOffset+this.tickLength,this.sc.getTop(),this.stroke,this.sc.getHeight())};b.prototype.drawYGridLine=
function(a,b){var f,c;c=this.tickOffset+this.tickLength+this.stroke;f=0===b&&b!==this.min&&b!==this.max?3:1;a.fillStyle=this.gridColour;return a.fillRect(this.sc.getLeft()+c,this.sc.getYFromValue(b)-f/2,this.sc.getWidth()-c,f)};b.prototype.drawYTick=function(a,b){a.fillStyle=this.colour;return a.fillRect(this.sc.getLeft()+this.tickOffset,this.sc.getYFromValue(b)-this.stroke/2,this.tickLength,this.stroke)};b.prototype.getDefaultValues=function(){return{offset:!1}};return b}(q);xa=function(c){function b(a,
d){var f;f=(null!=d?d:{}).text;b.__super__.constructor.call(this,a);this.addChild(this.labels=new M(this,a.labels,a));this.axisLabelOffset=4;f&&(this.axisLabel=new r({colour:"black"}),this.axisLabel.setText(f),this.addChild(this.axisLabel))}k(b,c);b.prototype.getWidth=function(){return this.stroke+this.tickLength+this.tickOffset+this.labels.getWidth()+(this.axisLabel?this.axisLabelOffset+this.axisLabel.getHeight():0)};b.prototype.measure=function(a,b){return{width:this.getWidth(),height:b}};b.prototype.resize=
function(a){a.yRightAxis=this;this.axisCoords=a.view(a.getTop(),a.getLeft(),this.stroke+this.tickLength+this.tickOffset,a.getHeight());this.axisCoords.yaxis=this;this.labelsCoords=new t(a.getTop(),this.axisCoords.getRight(),this.axisCoords.getRight()+this.labels.getWidth(),a.getBottom());this.labelsCoords.yaxis=this;this.axisLabel&&(this.axisLabel.x=this.labelsCoords.getRight()+this.axisLabelOffset+this.axisLabel.getHeight()/2,this.axisLabel.y=a.getTop()+a.getHeight()/2,this.axisLabel.rotation=270,
this.axisLabel.textAlign="center",this.axisLabel.textBaseline="middle");this.sc=this.axisCoords;return b.__super__.resize.call(this,this.labelsCoords)};b.prototype.render=function(a){var d,f,c,l;this.drawYLine(a);d=f=this.min;c=this.max;for(l=this.steps;0<l?f<=c:f>=c;d=f+=l)this.drawYTick(a,d);return b.__super__.render.call(this,a)};b.prototype.drawYLine=function(a){a.fillStyle=this.colour;return a.fillRect(this.sc.getLeft(),this.sc.getTop(),this.stroke,this.sc.getHeight())};b.prototype.drawYGridLine=
function(a,b){a.fillStyle=this.gridColour;return a.fillRect(this.sc.getLeft()+this.stroke+this.tickLength+this.tickOffset,this.sc.getYFromValue(b),this.sc.getWidth(),1)};b.prototype.drawYTick=function(a,b){a.fillStyle=this.colour;return a.fillRect(this.sc.getLeft()+this.stroke,this.sc.getYFromValue(b)-this.stroke/2,this.tickLength,this.stroke)};b.prototype.getDefaultValues=function(){return{offset:!1}};return b}(q);M=function(c){function b(a,d,c){this.yaxis=a;b.__super__.constructor.call(this,d);
this.min=c.min;this.max=c.max;d.visibleSteps&&(this.steps=d.visibleSteps);d.steps&&(this.steps=d.steps);this.textAlign="right";this.textBaseline="middle";this.addLabels(d)}k(b,c);b.prototype.resize=function(a){var d,c,e,l,g,h;c=this.getWidth();e=a.getYAxisValues();h=this.children;l=0;for(g=h.length;l<g;l++)d=h[l],d.x=a.getLeft()+c,d.y=e.getValue(this.yaxis.log?Math.pow(10,d.yVal):d.yVal);return b.__super__.resize.call(this,a)};return b}(x);aa=function(c){function b(a){b.__super__.constructor.call(this,
a);this.spokeLabels=new ca(a["spoke-labels"]);this.addChild(this.spokeLabels)}k(b,c);b.prototype.resize=function(a){this.sc=a;a.radarAxis=this;a.setAngles(this.spokeLabels.children.length);this.count=a.angles;return b.__super__.resize.call(this,a)};b.prototype.render=function(a){this.drawAxis(this.sc,a,this.count);this.drawGrid(this.sc,a,this.count);return b.__super__.render.call(this,a)};b.prototype.drawAxis=function(a,b,c){var e,l,g,h;b.save();b.lineWidth=this.stroke;b.strokeStyle=this.colour;for(e=
h=0;0<=c?h<=c:h>=c;e=0<=c?++h:--h)g=a.getCoordsFromXPositionAndYValue(e,0),l=g.x,g=g.y,b.moveTo(l,g),e=a.getCoordsFromXPositionAndYValue(e,this.max),l=e.x,g=e.y,b.lineTo(l,g),b.stroke();return b.restore()};b.prototype.drawGrid=function(a,b,c){var e,l,g,h,j,i,o;b.save();b.lineWidth=1;b.strokeStyle=this.gridColour;b.beginPath();l=h=this.steps;i=this.max;for(o=this.steps;0<o?h<=i:h>=i;l=h+=o){j=a.getCoordsFromXPositionAndYValue(0,l);e=j.x;g=j.y;b.moveTo(e,g);for(e=j=1;1<=c?j<=c:j>=c;e=1<=c?++j:--j)g=
a.getCoordsFromXPositionAndYValue(e,l),e=g.x,g=g.y,b.lineTo(e,g)}b.closePath();b.stroke();return b.restore()};return b}(q);ca=function(c){function b(a){var d,c,e,l,g,h,j;b.__super__.constructor.call(this,a);a=i.mergeProps(a,{colour:"#784016",labels:[]});j=this.labels=a.labels;d=l=0;for(g=j.length;l<g;d=++l)c=j[d],e={text:"",visible:!0},e=i.mergeProps(e,a),"string"===typeof c?e.text=c:e=i.mergeProps(c,e),c=new r(e),c.textWrap=!0,c.setText(e.text,null!=(h=a.links)?h[d]:void 0),this.addChild(c)}k(b,
c);b.prototype.measure=function(){return{width:this.getWidth(),height:this.getHeight()}};b.prototype.resizeLabel=function(a,b){var c,e,l,g,h,j,i,o,k;c=a.getCenterX();o=this.children;k=[];e=j=0;for(i=o.length;j<i;e=++j)l=o[e],h=a.getCoordsFromXPositionAndYValue(e,a.getMax(),b),g=h.x,h=h.y,l.x=g>c?g:g-l.width,0===e?(l.y=h-l.height-3,k.push(l.x=g)):(l.x+=g>c?6:-6,k.push(l.y=h-l.height/2));return k};b.prototype.resize=function(a){var d,c,e,l,g,h;e=a.getRadarRadius();for(c=!0;c&&10<e;){c=!1;this.resizeLabel(a,
e);h=this.children;l=0;for(g=h.length;l<g;l++)if(d=h[l],d.x<this.left||d.y<this.top||d.y+d.height>this.bottom||d.x+d.width>this.right){c=!0;break}e--}return b.__super__.resize.call(this,a)};b.prototype.render=function(a){return b.__super__.render.call(this,a)};return b}(u);ha=function(c){function b(a){b.__super__.constructor.call(this,a);this.gradient=i.copy(this.options.speedometer).gradient;this.conditions=a.conditions;this.addChild(this.labels=new ia(a.labels))}k(b,c);b.prototype.resize=function(a){this.sc=
a;a.radarAxis=this;a.setAngles(this.labels.children.length-1);this.count=a.angles;this.lineWidth=a.getHeight()/10;this.arcWidth=this.lineWidth/2;a.radius=a.getRadarRadius()-this.arcWidth;a.innerRadius=a.radius-this.arcWidth;a.outerRadius=a.radius+this.arcWidth;return b.__super__.resize.call(this,a)};b.prototype.render=function(a){this.drawAxisArc(this.sc,a,this.count);return b.__super__.render.call(this,a)};b.prototype.drawAxisArc=function(a,b){var c,e,l,g,h,j,m,o,k,n,p,w=this;m=a.innerRadius;o=a.outerRadius;
j=function(c,e,f,g){var h,j,l,i,m;null==f&&(f=o);null==g&&(g=o-c);m=[];j=c=1;for(i=e-1;1<=i?c<=i:c>=i;j=1<=i?++c:--c)b.beginPath(),h=a.getPositionAngle(j,e),l=a.getCoordsFromRadiusAndAngle(f,h),j=l.x,l=l.y,b.moveTo(j,l),h=a.getCoordsFromRadiusAndAngle(g,h),j=h.x,l=h.y,b.lineTo(j,l),b.closePath(),m.push(b.stroke());return m};l=a.getCentre();b.save();b.strokeStyle=this.colour;b.lineWidth=0.5;j(o,this.count,0,m);b.lineWidth=1;b.strokeStyle="black";h=function(a,c,e){b.beginPath();b.arc(l.x,l.y,m,a*i.TO_RADIANS,
c*i.TO_RADIANS);b.arc(l.x,l.y,o,c*i.TO_RADIANS,a*i.TO_RADIANS,!0);b.closePath();if(e)return w.gradient?(a=b.createRadialGradient(l.x,l.y,m,l.x,l.y,o),a.addColorStop(0,e),a.addColorStop(0.5,i.hexToRGB(e,0.5)),a.addColorStop(1,e),b.fillStyle=a):b.fillStyle=e,b.fill()};if(this.conditions){c=180;p=this.conditions;k=0;for(n=p.length;k<n;k++)g=p[k],e=g.value,e=Math.min(g.value,this.max),e=Math.max(e,this.min),e=this.sc.getValueAngle(e),h(c,e,g.colour),c=e;360>e&&h(e,360,this.colour)}h(180,360,!this.conditions?
this.colour:void 0);b.stroke();c=(o-m)/4;b.lineWidth=0.5;j(c/2,3*this.count);b.lineWidth=1;j(c,this.count);return b.restore()};return b}(q);ia=function(c){function b(a){b.__super__.constructor.call(this,a);this.addLabels(a)}k(b,c);b.prototype.resizeLabel=function(a){var b,c,e,l,g,h,j,i;c=a.getCentre();i=this.children;b=h=0;for(j=i.length;h<j;b=++h)(e=i[b],b=a.getPositionAngle(b),g=a.getCoordsFromRadiusAndAngle(a.outerRadius,b),l=g.x,g=g.y,e.y=g,e.x=l+(l>c.x?6:-6),l>c.x-10&&l<c.x+10&&(e.y-=6),e.textBaseline=
"bottom",180<=b&&260>=b)?e.textAlign="right":280<=b&&360>=b?e.textAlign="left":260<b&&280>b?e.textAlign="center":(e.x=l,e.y=g)};b.prototype.resize=function(a){var d,c,e,l,g,h;e=a.getRadarRadius();for(c=!0;c&&10<e;){c=!1;this.resizeLabel(a,e);h=this.children;l=0;for(g=h.length;l<g;l++)if(d=h[l],d.x<this.left||d.y<this.top||d.y+d.height>this.bottom||d.x+d.width>this.right){c=!0;break}e--}return b.__super__.resize.call(this,a)};b.prototype.render=function(a){return b.__super__.render.call(this,a)};return b}(x);
I=function(c){function b(a,d,c,e){b.__super__.constructor.call(this,a,d,c,e);this.radius=0.7*this.getWidth()}k(b,c);b.prototype.getRange=function(){return this.taxis.getRange()};b.prototype.getYFromValue=function(a){var b,c,e;b=2*this.getTherRadius();c=this.getHeight()-20-b;e=this.getRange();return this.getBottom()-b-(a-e.min)*(c/e.count)};b.prototype.getYBottom=function(){return this.getYFromValue(this.getRange().min)};b.prototype.getYTop=function(){return this.getYFromValue(this.getRange().max)};
b.prototype.getTherRadius=function(){return this.radius};return b}(t);la=function(c){function b(a){var d,c,e,l;b.__super__.constructor.call(this,a);this.values=a.values;this.keys=a.keys;this.addChild(this.bars=new n);this.addChild(this.barLabels=new u);this.barLabelsTopGap=5;this.barLabelsBottomGap=2;this.barLabelsBetweenGap=10;l=this.values;d=c=0;for(e=l.length;c<e;d=++c)a=l[d],null!==a&&(this.bars.addChild(new oa(d,this.values.length,a)),d=new r(a),d.textAlign="center",d.textBaseline="top",d.textWrap=
!0,d.setText(a.label,a.link),d.visible=!0,this.barLabels.addChild(d))}k(b,c);b.prototype.resize=function(a){var b,c,e,l,g,h,j,i,o,k,n,p;this.taxis=a.taxis;h=this.taxis.labels.getWidth();l=80*this.bars.children.length;l=Math.max((a.getWidth()-l-h-9)/2,0);c=0;i=this.barLabels.children;e=0;for(j=i.length;e<j;e++)b=i[e],b.maxLineWidth=80-this.barLabelsBetweenGap,b.textDimensions(),c+=b.width,c>a.getRight()&&(b.visible=!1);b=this.barLabels.getHeight();c=a.getHeight()-b-this.barLabelsTopGap-this.barLabelsBottomGap;
j=a.getTop()+c+this.barLabelsTopGap;o=a.getTop();i=a.getLeft()+l+9+h;p=this.bars.children;g=k=0;for(n=p.length;k<n;g=++k)b=p[g],i>a.getRight()?(b.visible=!1,b=this.barLabels.children[g],b.visible=!1):(e=new I(o,i,i+50,o+c),e.taxis=this.taxis,b.visible=!0,b.resize(e),b=this.barLabels.children[g],b.x=e.getCenterX(),b.y=j,b.visible=!0,i+=2*e.getTherRadius()+10);a=new I(a.getTop(),a.getLeft(),a.getLeft()+50,a.getTop()+c);a.taxis=this.taxis;j=this.taxis.labels.children;c=0;for(e=j.length;c<e;c++)b=j[c],
b.x=a.getLeft()+l+h,b.y=a.getYFromValue(b.yVal)};b.prototype.render=function(a){this.taxis.labels.render(a);return b.__super__.render.call(this,a)};return b}(n);oa=function(c){function b(a,d,c){this.index=a;this.count=d;b.__super__.constructor.call(this,c);a=i.mergeProps(c,i.copy(this.options.thermometer));this.value=a.value;this.tip=a.tip;this.colour=a.colour;this.gradient=a.gradient;this.context=a.context;this.tickLength=3;this.tickOffset=4;this.tickStroke=2;this.rectStroke=1;this.visible=!0}k(b,
c);b.prototype.resize=function(a){var d,c,e,i,g,h,j,m,k,n,q,p;this.sc=a;if(this.visible)return this.taxis=this.sc.taxis,b.__super__.resize.call(this,this.sc),p=this.sc.getTherRadius(),k=a.getWidth(),n=a.getLeft(),q=a.getTop(),m=a.getHeight()-p,h=a.getCenterX(),j=a.getBottom()-p,d=this.sc.getYBottom(),e=0.8*k,i=a.getLeft()+(a.getWidth()-e)/2,g=this.value?this.sc.getYFromValue(this.value):d,c=d-g+p,d=a.getCenterX(),a=a.getBottom()-p,this.sizes={outerRect:{x:n,y:q,width:k,height:m},innerRect:{x:i,y:g,
width:e,height:c},outerCircle:{x:h,y:j,radius:p},innerCircle:{x:d,y:a,radius:0.9*p}}};b.prototype.render=function(a){var b,c,e,l,g,h,j,m,k;if(this.visible){e=this.sizes;g=e.outerRect;l=e.innerRect;c=e.outerCircle;e=e.innerCircle;a.save();a.lineWidth=this.rectStroke;a.strokeStyle="black";a.strokeRect(g.x,g.y,g.width,g.height);a.beginPath();a.arc(c.x,c.y,c.radius,0,360*i.TO_RADIANS,!1);a.closePath();a.stroke();a.fillStyle="white";a.fillRect(g.x,g.y+this.rectStroke,g.width,g.height-this.rectStroke);
a.beginPath();a.arc(c.x,c.y,c.radius,0,360*i.TO_RADIANS,!1);a.fill();a.closePath();if(this.taxis.conditions){h=this.sc.getYBottom();k=this.taxis.conditions;j=0;for(m=k.length;j<m;j++)b=k[j],c=Math.min(b.value,this.sc.getRange().max),c=Math.max(c,this.sc.getRange().min),c=this.sc.getYFromValue(c),a.fillStyle=i.hexToRGB(b.colour,0.3),a.fillRect(this.sc.getLeft(),c,this.sc.getWidth(),h-c),h=c}a.fillStyle=this.colour;a.fillRect(l.x,l.y,l.width,l.height);a.beginPath();a.arc(e.x,e.y,e.radius,0,360*i.TO_RADIANS,
!1);a.fill();a.closePath();this.gradient&&(c=a.createRadialGradient(e.x,e.y,e.radius,e.x-0.4*e.radius,e.y-0.3*e.radius,0.1*e.radius),c.addColorStop(1,"rgba(255,255,255,0.5)"),c.addColorStop(0,this.colour),a.fillStyle=c,a.beginPath(),a.arc(e.x,e.y,e.radius,0,360*i.TO_RADIANS,!1),a.fill(),a.closePath());a.fillStyle="black";b=this.sc.getRange();c=e=b.min;l=b.max;for(b=b.steps;0<b?e<=l:e>=l;c=e+=b)a.fillRect(g.x-this.tickStroke,this.sc.getYFromValue(c)-this.tickStroke/2,this.tickLength,this.tickStroke);
a.restore()}};b.prototype.onTouch=function(a){if(this.tip&&this.visible&&i.isHasRectPoint(this.sizes.innerRect,a))return a.addTooltip(this.tip,this.colour,this.context)};return b}(n);ma=function(c){function b(a){b.__super__.constructor.call(this,a);this.labels=new na(a.labels);this.conditions=a.conditions}k(b,c);return b}(q);na=function(c){function b(a){b.__super__.constructor.call(this,a);this.labelsCount=0;this.labels=a.labels;this.min=a.min;this.max=a.max;this.steps=a.steps;void 0===this.min&&
(this.min=0);void 0===this.max&&(this.max=this.labels.length);void 0===this.steps&&(this.steps=1);this.addLabels(a)}k(b,c);b.prototype.addLabels=function(a){var b,c,e;if(a.labels){e=a.labels;b=a=0;for(c=e.length;a<c;b=++a)b=e[b],this.addLabel(b)}};b.prototype.addLabel=function(a){var b;b=new r(a);b.textAlign="right";b.textBaseline="middle";b.setText(a.text);b.xVal=a.x||0===a.x?a.x:a.pos;b.yVal=a.y||0===a.y?a.y:a.pos;b.visible=!0;b.visible&&this.addChild(b);this.labelsCount+=1};b.prototype.count=function(){return this.labelsCount-
1};return b}(u);fa=function(c){function b(a){var d,c,e;b.__super__.constructor.call(this,a);e=a.values;d=a=0;for(c=e.length;a<c;d=++a)d=e[d],null!==d&&this.addChild(new ga(d))}k(b,c);b.prototype.resize=function(a){this.centre=a.getCentre();this.centerRadius=0.05*a.innerRadius;return b.__super__.resize.call(this,a)};b.prototype.render=function(a){b.__super__.render.call(this,a);a.save();a.lineWidth=2;a.fillStyle="black";a.strokeStyle="white";a.beginPath();a.arc(this.centre.x,this.centre.y,this.centerRadius,
0,360*i.TO_RADIANS);a.closePath();a.fill();a.stroke();return a.restore()};return b}(n);ga=function(c){function b(a){b.__super__.constructor.call(this,a);a=i.mergeProps(a,i.copy(this.options.speedometer||{}));this.label=a.label;this.link=a.link;this.value=a.value;this.tip=a.tip;this.colour=a.colour;this.context=a.context}k(b,c);b.prototype.resize=function(a){var d,c,e,i,g;if(a.radarAxis.getRange().min<=(i=this.value)&&i<=a.radarAxis.getRange().max)e=0.05*a.innerRadius,c=a.innerRadius+0.75*(a.outerRadius-
a.innerRadius),d=a.getValueAngle(this.value),i=a.getCentre(),g=a.getCoordsFromRadiusAndAngle(c,d),c=a.getCoordsFromRadiusAndAngle(e/2,d+90),d=a.getCoordsFromRadiusAndAngle(e/2,d-90),this.arrow={from:i,to:g,width:3,left:c,right:d};return b.__super__.resize.call(this,a)};b.prototype.render=function(a){this.arrow&&(a.save(),a.lineWidth=0.2,a.strokeStyle="black",a.fillStyle=this.colour,a.beginPath(),a.moveTo(this.arrow.left.x,this.arrow.left.y),a.lineTo(this.arrow.to.x,this.arrow.to.y),a.lineTo(this.arrow.right.x,
this.arrow.right.y),a.closePath(),a.fill(),a.stroke(),a.restore());return b.__super__.render.call(this,a)};b.prototype.getKeys=function(){return this.label?[{text:this.label,link:this.link,colour:this.colour}]:b.__super__.getKeys.call(this)};b.prototype.onTouch=function(a){if(this.tip&&this.arrow&&i.distanceBetweenPointAndLine(a,this.arrow)<this.arrow.width)return a.addTooltip(this.tip,this.colour,this.context)};return b}(n);this.Charts={options:{font:"Tahoma",fontSize:12,fontHeight:12,showsTouchLine:!0,
barGroupBoundaries:!0,base:{showValueLabels:!0},padding:{top:0,bottom:0,left:0,right:0},lineDot:{type:"dot","dot-size":5,"halo-size":2,alpha:1,width:1},scatterDot:{type:"dot","dot-size":5,"halo-size":2,alpha:1,width:1},line:{"fill-alpha":0.35,values:[],width:2,colour:"#3030d0",text:"","font-size":12,loop:!1,shadow:!1,shadowColor:"rgba(0,0,0,0.5)",shadowColorFill:"transparent"},candle:{alpha:0.6,values:[],"font-size":12,colour:"#3030d0",shadow:!1,shadowColor:"rgba(0,0,0,0.5)",shadowColorFill:"transparent"},
scatter:{values:[],"font-size":12},bar:{shadow:!1,shadowColor:"rgba(0,0,0,0.5)",values:[],colour:"#3030d0",text:"","font-size":12,alpha:0.6,keys:[]},pie:{colour:null,start:null,angle:null,gradient:!1},thermometer:{gradient:!1},funnel:{gradient:!1},speedometer:{gradient:!1},tooltip:{fillGrid:!1,onTouchStart:!1},axis:{stroke:2,"tick-height":3,colour:"#784016","grid-colour":"#F5E1AA","grid-visible":!0,steps:1,min:0}},create:function(c,b){var a,d,f,e,l,g,h,j,m,k,z,q,p;null==b&&(b={});b=i.valuesOf(this.options,
b,c.options);k=b.onShowTooltips;d=b.showsTouchLine;m=b.onClick;n.prototype.options=b;r.prototype.font=b.font;r.prototype.fontHeight=b.fontHeight;a=0;j=new v;c.x_axis&&c.y_axis?(c.y_axis_right&&(f=new xa(c.y_axis_right,c.y_right_legend)),j=new va(new sa(c.x_axis,c.x_legend),new wa(c.y_axis,c.y_legend),f)):c.radar_axis?j=new ba(new aa(c.radar_axis)):c.speedometer_axis&&(j=new ja(new ha(c.speedometer_axis)));c.t_axis&&(j=new pa(new ma(c.t_axis)));window&&d&&j.setTLR&&j.setTLR(new qa);h=!1;f=new n;p=
c.elements;z=0;for(q=p.length;z<q;z++)e=p[z],(d=function(){switch(e.type){case "pie":return new Y(e);case "line":case "area":case "line_dot":case "line_hollow":h=true;return new X(e);case "bar":case "bar_round_glass":case "bar_sketch":case "bar_glass":case "bar_cylinder":case "bar_cylinder_outline":case "bar_dome":case "bar_round":case "bar_round3d":case "bar_fade":case "bar_3d":case "bar_filled":case "bar_plastic":case "bar_plastic_flat":case "bar_stack":case "hbar":case "multihbar":return new O(a++,
e);case "scatter":h=true;return new da(e);case "funnel":return new S(e);case "thermometer":return new la(e);case "speedometer":return new fa(e);case "candle":h=true;return new Q(a++,e)}}())&&f.addChild(d);b.barGroupBoundaries&&1<a&&f.addChild(new P(e.type));j.setCharts(f);j.setKeys&&!1!==c.showLegend&&j.setKeys(j.getKeys());g=function(a){var b;if(b=a&&a.ownerDocument){b=b.documentElement;a=typeof a.getBoundingClientRect!==void 0?a.getBoundingClientRect():{top:0,left:0};return{offsetY:a.top+(window.pageYOffset||
b.scrollTop)-(b.clientTop||0),offsetX:a.left+(window.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}}};l=function(a,b){var d,c,e,f;c=g(a);d=c.offsetX;c=c.offsetY;if(typeof b.offsetX==="undefined"&&typeof b.offsetY==="undefined"){e=b.pageX-d;f=b.pageY-c}else{e=b.offsetX;f=b.offsetY}return{x:e,y:f,offsetX:d,offsetY:c}};"string"===typeof m&&(m=window?window[m]:null);return{init:function(a){return n.prototype.measureText=function(b,d){a.font=d;return a.measureText(b,d)}},resize:function(d,c){var e;if(!b.maxLineWidth)b.maxLineWidth=
d*0.25;e=new t(b.padding.top,b.padding.left,d-b.padding.right,c-b.padding.bottom);e.barGroups=a;j.optionsChanged(b);return j.resize(e)},render:function(a){return j.render(a)},addTooltipListener:function(a){var d,c;window&&m&&a.addEventListener("click",function(b){var d,c;c=l(a,b);(d=j.onClick({x:c.x,y:c.y}))&&m(b,d,c);return false});if(window&&k){if(document&&"ontouchstart"in document.documentElement){d=function(d){var c,e,f;if(d.touches.length===1){f=d.targetTouches[0];e=g(a);c=e.offsetX;e=e.offsetY;
c=new K(f.pageX-a.offsetLeft,f.pageY-a.offsetTop,c,e);c.verticalTouch=h&&(b.tooltip.onTouchStart||d.type==="touchmove");c.fillGrid=b.tooltip.fillGrid;j.onTouch(c);return k(c.tooltips,a)}};a.addEventListener("touchmove",d);return a.addEventListener("touchstart",d)}c=false;a.addEventListener("mousedown",function(){c=true;return false},false);a.addEventListener("mouseup",function(){return c=false},false);return a.addEventListener("mousemove",function(d){d=l(a,d);d=new K(d.x,d.y,d.offsetX,d.offsetY);
d.verticalTouch=c&&h;d.fillGrid=b.tooltip.fillGrid;j.onTouch(d);k(d.tooltips,a);return false},false)}}}},createAndRender:function(c,b,a){var d,f,e,i,g,h,j;null==a&&(a={});d=Charts.create(b,a);e=d.init;h=d.resize;g=d.render;b=d.addTooltipListener;j=a.width;a=a.height;c=document.getElementById(c);f=c.getContext("2d");if(j&&a&&(i=c.parentNode))c.width=/.*%/.test(j)?i.clientWidth*j.replace(/%/,"")/100:j.replace(/px/,""),c.height=/.*%/.test(a)?i.clientHeight*a.replace(/%/,"")/100:a.replace(/px/,"");e(f);
b(c);f.save();h(c.style&&c.style.width||c.width,c.style&&c.style.height||c.height);g(f);f.restore();return d},createSC:function(c){return new t(0,0,c.canvas.width,c.canvas.height)},clearCanvas:function(){}};pa=function(c){function b(a){this.taxis=a;b.__super__.constructor.call(this)}k(b,c);b.prototype.resize=function(a){a.taxis=this.taxis;return b.__super__.resize.call(this,a)};b.prototype.setCharts=function(a){this.charts=a;return this.addChild(this.charts)};return b}(n);v=function(c){function b(){return Ia=
b.__super__.constructor.apply(this,arguments)}k(b,c);b.prototype.setCharts=function(a){this.charts=a;return this.addChild(this.charts)};return b}(n);va=function(c){function b(a,d,c){this.xaxis=a;this.yaxis=d;this.yaxisRight=c;b.__super__.constructor.call(this);this.addChild(this.xaxis);this.addChild(this.yaxis);this.yaxisRight&&this.addChild(this.yaxisRight)}k(b,c);b.prototype.resize=function(a){var b,c,e,i,g,h,j,m,k,n,q;i=this.getLabelHeight();g=a.getLeft();k=a.getTop();q=a.getWidth();c=a.getHeight();
m=h=b=n=0;j=this.yaxis.measure(q,c);h+=j.width;this.yaxisRight&&(j=this.yaxisRight.measure(q-h,c),m+=j.width);j=q-h-m;this.keys&&(e=this.keys.measure(j,c),e.height+100<a.getHeight()?(this.keys.hidden=!1,n+=e.height):this.keys.hidden=!0);n||(n+=this.yaxis.labels.getHeight()/2);e=this.xaxis.measure(j,c);if(!this.yaxisRight&&(0===this.xaxis.labels.rotation&&(m+=this.xaxis.labels.getWidth()/2,j=q-h-m,e=this.xaxis.measure(j,c)),90===this.xaxis.labels.rotation))m+=this.xaxis.labels.getHeight()/2,j=q-h-
m,e=this.xaxis.measure(j,c);b+=e.height;b=c-n-b-i;c=a.view(k+n+i,g+h,j,b);this.keys&&this.keys.resize(a.view(k,g+h,j,n));this.xaxis.resize(a.view(k+n+i,g+h,j,b));this.yaxis.resize(a.view(k+n+i,g,j+h,b));this.yaxisRight&&this.yaxisRight.resize(a.view(k+n+i,g+h+j,h,b));c.xaxis=this.xaxis;c.yaxis=this.yaxis;c.yRightAxis=this.yaxisRight;this.charts.resize(c);if(this.tlr)return this.tlr.resize(c)};b.prototype.getLabelHeight=function(){var a,b,c,e,i,g,h,j,k,o,n;e=0;j=this.charts.children;i=0;for(g=j.length;i<
g;i++){a=j[i];k=null!=a?a.children:void 0;a=0;for(h=k.length;a<h;a++)if(c=k[a],null!=(o=c.barLabel)&&null!=(n=o.label)&&"function"===typeof n.hasVisibleText&&n.hasVisibleText())b=c.barLabel.label.textDimensions(),b=0===c.barLabel.label.rotation%180?b.height:b.width,e=Math.max(e,b)}return e};b.prototype.setKeys=function(a){if(0<a.length)return this.addChild(this.keys=new y(a))};b.prototype.setTLR=function(a){this.tlr=a;return this.addChild(this.tlr)};return b}(v);ba=function(c){function b(a){this.raxis=
a;b.__super__.constructor.call(this);this.addChild(this.raxis)}k(b,c);b.prototype.resize=function(a){var b,c,e,i,g;g=0;this.keys&&(b=this.keys.measure(a.getWidth(),a.getHeight()),b.height+100<a.getHeight()?(this.keys.hidden=!1,g+=b.height):this.keys.hidden=!0,this.keys.resize(a.view(a.getTop(),a.getLeft(),a.getWidth(),g)));e=c=b=0;a.getWidth()>a.getHeight()?(i=this.raxis.spokeLabels.getHeight(),g+=i+5,b+=i+5):(i=this.raxis.spokeLabels.getWidth(),c+=i+5,e+=i+5);a=new H(a.getTop()+g,a.getLeft()+c,a.getRight()-
e,a.getBottom()-b);this.raxis.resize(a);this.charts.resize(a);if(this.tlr)return this.tlr.resize(a)};b.prototype.setKeys=function(a){if(0<a.length)return this.addChild(this.keys=new y(a))};b.prototype.setTLR=function(a){this.tlr=a;return this.addChild(this.tlr)};return b}(v);ja=function(c){function b(a){this.saxis=a;b.__super__.constructor.call(this);this.addChild(this.saxis)}k(b,c);b.prototype.resize=function(a){var b,c,e,i;i=0;this.keys&&(b=this.keys.measure(a.getWidth(),a.getHeight()),b.height+
100<a.getHeight()?(this.keys.hidden=!1,i+=b.height):this.keys.hidden=!0,this.keys.resize(a.view(a.getTop(),a.getLeft(),a.getWidth(),i)));c=b=0;a.getWidth()>a.getHeight()&&(i+=this.saxis.labels.getHeight()+5);e=this.saxis.labels.getWidth();b+=e+15;c+=e+15;a=new ea(a.getTop()+i,a.getLeft()+b,a.getRight()-c,a.getBottom()-0);this.saxis.resize(a);return this.charts.resize(a)};b.prototype.setKeys=function(a){if(0<a.length)return this.addChild(this.keys=new y(a))};return b}(v);qa=function(c){function b(){this.factor=
window&&window.devicePixelRatio?window.devicePixelRatio:1;this.savedAreaWidth=1<this.factor?3:2;b.__super__.constructor.call(this)}k(b,c);b.prototype.resize=function(a){this.sc=a;this.savedArea=null;return b.__super__.resize.call(this,this.sc)};b.prototype.render=function(a){this.context=a;this.savedArea=this.context.getImageData(0,this.sc.getTop()*this.factor,this.savedAreaWidth,this.sc.getHeight()*this.factor);this.drawVerticalTouchLine(this.sc,a,1);this.lineArea=this.context.getImageData(0,this.sc.getTop()*
this.factor,this.savedAreaWidth,this.sc.getHeight()*this.factor);this.context.putImageData(this.savedArea,0,this.sc.getTop()*this.factor);this.savedArea=null;return b.__super__.render.call(this,this.context)};b.prototype.addVerticalTouchLine=function(a){this.saveAreaX=a-1;this.saveAreaY=this.sc.top;this.savedArea=this.context.getImageData(this.saveAreaX*this.factor,this.saveAreaY*this.factor,this.savedAreaWidth,this.sc.getHeight()*this.factor);return this.context.putImageData(this.lineArea,this.saveAreaX*
this.factor,this.saveAreaY*this.factor)};b.prototype.removeVerticalTouchLine=function(){if(this.savedArea)return this.context.putImageData(this.savedArea,this.saveAreaX*this.factor,this.saveAreaY*this.factor),this.savedArea=null};b.prototype.drawVerticalTouchLine=function(a,b,c){b.save();b.beginPath();b.strokeStyle="black";b.lineWidth=1;b.moveTo(c,a.bottom);b.lineTo(c,a.top);b.stroke();b.closePath();return b.restore()};b.prototype.onTouch=function(a){this.removeVerticalTouchLine();if(!(a.x<this.sc.left||
a.x>this.sc.right))return a.verticalTouch&&this.addVerticalTouchLine(a.x),b.__super__.onTouch.call(this,a)};return b}(n);K=function(){function c(b,a,c,f){this.x=b;this.y=a;this.offsetX=c;this.offsetY=f;this.tooltips=[];this.fillGrid=this.verticalTouch=!1}c.prototype.addTooltip=function(b,a,c){return this.addTooltipAtXY(this.x,this.y,b,a,c)};c.prototype.addTooltipAtXY=function(b,a,c,f,e){var i,e=null!=e?null!=(i=JSON.parse(e))?i.dataLink:void 0:void 0;return this.sc&&(!(this.sc.getLeft()<b&&b<this.sc.getRight())||
!(this.sc.getTop()<a&&a<this.sc.getBottom()))?void 0:this.tooltips.push({x:b+this.offsetX,y:a+this.offsetY,text:c,color:f,dataId:e})};c.prototype.isVerticalTouch=function(){return this.verticalTouch};c.prototype.isPointInVerticalTouch=function(b,a,c){var f,e,i;null==c&&(c=0);if(this.fillGrid&&null!=(null!=(f=this.sc)?null!=(e=f.xaxis)?e.steps:void 0:void 0))f=this.sc.xaxis.steps,a=this.sc.xaxis.min,a=this.sc.getXFromValue(a+f)-this.sc.getXFromValue(a),c=Math.max(a/2,c);a=Math.round(this.x);return a-
c<=(i=Math.round(b))&&i<=a+c};c.prototype.isRectInVerticalTouch=function(b,a){var c;null==a&&(a=0);return b.x-a<=(c=Math.round(this.x))&&c<=b.x+b.width+a};return c}()}).call(this);
